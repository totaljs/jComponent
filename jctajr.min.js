/*! jComponent v10.0.0 | (c) Peter Sirka | www.petersirka.com */
var Tangular={};Tangular.helpers={},Tangular.version='v1.9.0',Tangular.cache={},Tangular.ENCODE=/[<>&"]/g,Tangular.TRIM=/\n$/g,Tangular.debug=!1,Tangular.settings={delimiters:['{{','}}']},Tangular.i={},Tangular.i.white=/\W/,Tangular.i.numbers={0:1,1:1,2:1,3:1,4:1,5:1,6:1,7:1,8:1,9:1},Tangular.i.allow={$:1,'.':1},Tangular.register=function(n,r){return Tangular.helpers[n]=r,Tangular},Tangular.compile=function(n){n||(n='');for(var r,e=-1,a=[],t=-1,u=0,l=n.length,i=0,s=Tangular.settings.delimiters[0].length,g=[],o=-1;l>e++;){var c=n.substring(e,e+s);if(t===-1)if(c!==Tangular.settings.delimiters[0]);else{if(t!==-1){i++;continue}r=n.substring(u,e),r&&(o=g.indexOf(r),o===-1&&(o=g.length,g.push(r))),a.push(r?'txt['+o+']':'""'),t=e+s}else if(c===Tangular.settings.delimiters[1]){if(i>0){i--;continue}var f=n.substring(t,e).trim(),h=f.substring(0,3);if('if '===h||'for'===h||'end'===f||'fi'===f||'else'===f||'else if'===f){var p=g.length-1;g[p]&&(g[p]=g[p].replace(Tangular.TRIM,''))}a.push(f),u=e+s,t=-1;continue}}r=n.substring(u,l),r&&(o=g.indexOf(r),o===-1&&(o=g.length,g.push(r))),a.push(r?'txt['+o+']':'""'),l=a.length;for(var T='$output+=',d='var $s=this,$output="",$t,$v;',$=[],v=!1,b=0,m=0;m<l;m++)if(m%2!==0){var f=a[m],w=!1,e=f.lastIndexOf('|'),x=null,O=f.substring(0,3);'if '===O&&(f='if( '+f.substring(3)+'){',w=!0),'foreach '===f.substring(0,8)&&(x=f.split(' '),'var'===x[1]&&x.splice(1,1),$.push(x[1]),w=!0,v=!0,b++);var j=f.substring(0,5);if('endif'===j||'fi'===f?(f='}',w=!0):'else'===j?(f='}else{',w=!0):'else if'===f.substring(0,7)?(f='}else if( '+f.substring(8)+'){',w=!0):'end'!==O&&'endfor'!==f.substring(0,6)||(f=$.length?'}})()}':'}}',$.pop(),w=!0,b--,b||(v=!1)),f=w?Tangular.append(f,$,v,'$s').trim():Tangular.helper(f,$,v,'$s'),w){if(x){var C=Tangular.append(x[3],$,v,'$s');f='if ('+C+'&&'+C+'.length){(function(){for(var i=0,length='+C+'.length;i<length;i++){var '+x[1]+'='+C+'[i];var $index=i;'}d+=f}else d+=T+f+';'}else d+=T+a[m]+';';var E=59===d.charCodeAt(d.length-1);return Tangular.debug&&(console.log('Tangular:'),console.log('function(helpers,$){'+d+(E?'':';')+'return $output;'),console.log(n.trim()),console.log('---------------------------'),console.log('')),function(n,r){return new Function('helpers','$','txt',d+(E?'':';')+'return $output;').call(n,Tangular.helperhandling,r,g)}},Tangular.helperhandling=function(n){var r=Tangular.helpers[n];return r?r:(console.warn('Tangular helper "'+n+'" not found.'),function(n){return void 0===n?'undefined':null===n?'null':n.toString()})},Tangular.helper=function(n,r,e){var a,t=n.indexOf('|');if(t===-1)return a=Tangular.append(n.trim(),r,e,'$s').trim(),'helpers("encode").call($s,'+a+')';a=Tangular.append(n.substring(0,t).trim(),r,e).trim(),n=n.substring(t+1).trim().split('|');for(var u='',l=0,i=n.length;l<i;l++){var s,g=n[l].trim().replace('()','');t=g.indexOf('('),t===-1?(s=g,g='.call($s,$t)'):(s=g.substring(0,t),g='.call($s,$t,'+g.substring(t+1)),g='$t=helpers("'+s+'")'+g,u+=g+';'}return'"";$t='+a+';'+u+'$output+=$t'},Tangular.parse=function(n,r){for(var e=[],a=null,t=[],u=0,l=n.length;u<l;u++){var i=n.substring(u,u+1);i!==a?a?t.push(i):'\''!==i&&'"'!==i?!Tangular.i.numbers[i]||e.length?Tangular.i.allow[i]||!Tangular.i.white.test(i)?' '!==i?e.push(i):t.push(i):(e.length&&(t.push(r(e.join(''))),e=[]),t.push(i)):t.push(i):(e.length&&(t.push(r(e.join(''))),e=[]),a=i,t.push(i)):(a=null,e=[],t.push(i))}return e.length&&t.push(r(e.join(''))),t.join('')},Tangular.append=function(n,r,e,a){return void 0===r&&(r=[]),n?Tangular.parse(n,function(n){switch(n.trim()){case'else':case'end':case'endfor':case'endif':case'fi':case'foreach':case'if':case'true':case'false':case'else if':return n;case'$index':return n}for(var e=!1,t=0,u=r.length;t<u;t++){var l=r[t].length;if(n.substring(0,l)===r[t]){if(n.length!==l){var i=n.substring(l,l+1);if('.'!==i&&'+'!==i)continue}e=!0;break}}if('$'===n)return'Tangular.$wrap($)';if('$.'===n.substring(0,2)&&(a='$',n=n.substring(2)),e)return n;i=n.substring(0,1);var s=i.charCodeAt(0);return s>47&&s<58?n:'Tangular.$wrap('+(a||'$s')+',"'+n+'")'}):'Tangular.$wrap('+(a||'$s')+')'},Tangular.$wrap=function(n,r){if(!n||!r)return n;var e=Tangular.cache[r];if(null===e)return n[r];if(e)return e(n);if(1===r.split('.').length)return Tangular.cache[r]=null,n[r];try{e=Tangular.cache[r]=new Function('XYZ','try{return XYZ.'+r+'}catch(e){return ""}')}catch(n){e=new Function('return ""')}return e(n)},Tangular.render=function(n,r,e){return null==r&&(r={}),'string'==typeof n&&(n=Tangular.compile(n)),n(r,e)},Tangular.register('encode',function(n){return null==n?'':n.toString().replace(Tangular.ENCODE,function(n){switch(n){case'&':return'&amp;';case'<':return'&lt;';case'>':return'&gt;';case'"':return'&quot;'}return n})}),Tangular.register('raw',function(n){return null==n?'':n}),window.Tangular=Tangular,window.Ta=Tangular;
Tangular.register('pluralize',function(r,e,t,a,n){return r||(r=0),'number'!=typeof r&&(r=parseFloat(r.toString().replace(/\s/g,'').replace(',','.'))),r.pluralize(e,t,a,n)}),Tangular.register('format',function(r,e,t,a){var n=typeof r;if(void 0===r||null===r)return'';if('number'===n||r instanceof Date)return r.format(e,t,a);'string'!==n&&(r=r.toString()),r=r.trim();for(var i=!1,o=0,f=0,u=0,l=r.length;l>u;u++){var g=r.charCodeAt(u);if(58===g||32===g||84===g){i=!0;break}if(45===g){if(o++,1===o)continue;i=!0;break}if(46===g){if(f++,1===f)continue;i=!0;break}}return i?r.parseDate().format(e||'dd.MM.yyyy'):r.parseFloat().format(e,t,a)});
function jRinit(){jR.async(),$.fn.jRouting=function(r){if(jR.hashtags||!jR.isModernBrowser)return this;var t=+$.fn.jquery.replace(/\./g,'');if(t>=300&&r===!0)throw Error('$(selector).jRouting() doesn\'t work in jQuery +3. Instead of this use jR.clientside(selector).');var n=function(r){r.preventDefault(),jR.redirect($(this).attr('href'))};return r?$(document).on('click',this.selector,n):this.filter('a').bind('click',n),this},$(document).ready(function(){jR.async(),jR.hashtags?jR.url=location.hash||JRFU.path(JRFU.prepareUrl(location.pathname)):jR.url=JRFU.path(JRFU.prepareUrl(location.pathname)),setTimeout(function(){jR.isReady=!0,jR.location(jR.url)},5),$(window).on('hashchange',function(){jR.isReady&&jR.hashtags&&jR.location(JRFU.path(location.hash))}),$(window).on('popstate',function(){if(jR.isReady&&!jR.hashtags){var r=JRFU.path(location.pathname);jR.url!==r&&jR.location(r)}})})}var JRFU={},jR={LIMIT_HISTORY:100,LIMIT_HISTORY_ERROR:100,version:'v3.0.0',cache:{},routes:[],history:[],errors:[],global:{},query:{},params:[],middlewares:{},repository:{},url:'',model:null,isFirst:!0,isReady:!1,isRefresh:!1,isModernBrowser:!!history.pushState,hashtags:!1,count:0};window.jR||(window.jR=jR),window.jRouting||(window.jRouting=jR),window.JRFU||(window.JRFU=JRFU),window.NAVIGATION||(window.NAVIGATION=jR),jR.remove=function(r){for(var t=[],n=0,e=jR.routes.length;n<e;n++)jR.routes[n].id!==r&&t.push(jR.routes[n]);return jR.routes=t,jR},jR.on=function(r,t){return ON(r,t),jR},jR.emit=function(){EMIT.apply(window,arguments)},jR.route=function(r,t,n,e){var i;if(t instanceof Array){var i=n;n=t,t=i}'function'==typeof n&&(i=e,e=n,n=i);var o=r.count('/')+(r.indexOf('*')===-1?0:10),a=jR._route(r.trim()),u=[];if('string'==typeof n&&(n=n.split(',')),r.indexOf('{')!==-1){o-=100;for(var R=0;R<a.length;R++)'{'===a[R].substring(0,1)&&u.push(R);o-=u.length}return jR.routes.remove(r),jR.routes.push({id:r,url:a,fn:t,priority:o,params:u,middleware:n||null,init:e,count:0,pending:!1}),jR.routes.sort(function(r,t){return r.priority>t.priority?-1:r.priority<t.priority?1:0}),jR},jR.middleware=function(r,t){return jR.middlewares[r]=t,jR},jR.refresh=function(){return jR.location(jR.url,!0)},jR.reload=function(){return jR.refresh()},jR.async=function(){if(window.jRoute&&window.jRoute.length){for(;;){var r=window.jRoute.shift();if(!r)break;r()}jR.is404&&jR.location(jR.url)}},jR._route=function(r){47===r.charCodeAt(0)&&(r=r.substring(1)),47===r.charCodeAt(r.length-1)&&(r=r.substring(0,r.length-1));var t=r.split('/');return 1!==t.length||t[0]||(t[0]='/'),t},jR._route_param=function(r,t){var n=[];if(!t||!r)return n;var e=t.params.length;if(e)for(var i=0;i<e;i++){var o=r[t.params[i]];n.push('/'===o?'':o)}return n},jR._route_compare=function(r,t){var n=r.length,e=1===n&&'/'===r[0];if(t.length!==n)return!1;for(var i=0;i<n;i++){var o=t[i];if(!o)return!1;if(e||123!==o.charCodeAt(0)){if('*'===o)return!0;if(r[i]!==o)return!1}}return!0},jR.location=function(r,t){if(jR.isReady){var n=r.indexOf('?');n!==-1&&(r=r.substring(0,n)),r=JRFU.prepareUrl(r),r=JRFU.path(r);var e=jR._route(r),i=[],o=!0,a=[];a.push.apply(a,e);for(var u=0,R=e.length;u<R;u++)e[u]=e[u].toLowerCase();jR.isRefresh=t||!1,jR.count++,!t&&jR.url.length&&jR.history[jR.history.length-1]!==jR.url&&(jR.history.push(jR.url),jR.history.length>jR.LIMIT_HISTORY&&jR.history.shift());for(var R=jR.routes.length,u=0;u<R;u++){var s=jR.routes[u];if(jR._route_compare(e,s.url)&&(s.url.indexOf('*')===-1&&(o=!1),!(s.once&&s.count>0))){s.count++,i.push(s);break}}var j=!1,l=[];jR.url.length&&(jR.cache[jR.url]=jR.repository),jR.url=r,jR.repository=jR.cache[r],jR.repository||(jR.repository={}),jR._params(),jR.params=jR._route_param(a,s),jR.is404=!1,jR.emit('location',r),R=i.length;for(var u=0;u<R;u++){var s=i[u];if(!s.pending)if(s.middleware&&s.middleware.length)!function(r){for(var t=r.middleware.length,n=[],e=0;e<t;e++)!function(r,t){n.push(function(n){t.call(jR,n,r)})}(r,jR.middlewares[r.middleware[e]]);return r.init?(r.pending=!0,r.init(function(){n.middleware(function(t){!t&&r.fn.apply(jR,jR.params),r.pending=!1})}),void(r.init=null)):(r.pending=!0,void n.middleware(function(t){!t&&r.fn.apply(jR,jR.params),r.pending=!1}))}(s);else{if(!s.init){s.fn.apply(jR,jR.params);continue}s.pending=!0,function(r){r.init(function(){r.fn.apply(jR,jR.params),r.pending=!1})}(s),s.init=null}}j&&jR.status(500,l),jR.is404=!0,o&&jR.status(404,new Error('Route not found.'))}},jR.prev=function(){return jR.history[jR.history.length-1]},jR.back=function(){var r=jR.history.pop()||'/';return jR.url='',jR.redirect(r,!0),jR},jR.status=function(r,t){return EMIT(r,t),jR},jR.redirect=window.REDIRECT=function(r,t){return 35===r.charCodeAt(0)?(location.hash=r,jR.model=t||null,jR.location(r,!1),jR):jR.isModernBrowser?(history.pushState(null,null,r),jR.model=t||null,jR.location(r,!1),jR):(location.href=r,!1)},jR._params=function(){for(var r={},t=location.href.slice(location.href.indexOf('?')+1).split('&'),n=0;n<t.length;n++){var e=t[n].split('=');if(2===e.length){var i=decodeURIComponent(e[0]),o=decodeURIComponent(e[1]),a=r[i]instanceof Array;r[i]&&!a&&(r[i]=[r[i]]),a?r[i].push(o):r[i]=o}}return jR.query=r,jR},jR.path=JRFU.path=function(r,t){if('#'===r.substring(0,1))return r;t||(t='/');var n=r.indexOf('?'),e='';n!==-1&&(e=r.substring(n),r=r.substring(0,n));var i=r.length,o=r.substring(i-1,i);return o!==t&&(r+=t),r+e},JRFU.prepareUrl=function(r){if('#'===r.substring(0,1))return r;var t=r.indexOf('#');return t!==-1?r.substring(0,t):r},Array.prototype.middleware||(Array.prototype.middleware=function(r){var t=this,n=t.shift();return void 0===n?(r&&r(),t):(n(function(n){n instanceof Error||n===!1?r&&r(n===!1||n):setTimeout(function(){t.middleware(r)},1)}),t)}),String.prototype.count||(String.prototype.count=function(r){var t=0,n=0;do t=this.indexOf(r,t+r.length),t>0&&n++;while(t>0);return n}),jR.clientside=function(r){return $(document).on('click',r,function(r){r.preventDefault();var t=$(this),n=t.attr('href')||t.attr('data-jrouting')||t.attr('data-jr');'javascript:void(0)'!==n&&'#'!==n&&jR.redirect(n)}),jR},window.jQuery?jRinit():jR.init=setInterval(function(){window.jQuery&&(clearInterval(jR.init),jRinit())},100),setTimeout(jR.async,500),setTimeout(jR.async,1e3),setTimeout(jR.async,2e3),setTimeout(jR.async,3e3),setTimeout(jR.async,5e3),window.ROUTE=function(r,t,n,e){return jR.route(r,t,n,e)};
!function(){function t(t,e){j(t,e,1),C(t,e,1)}function e(){if(mt&&mt.length)for(var t=ut.orientation?90===Math.abs(ut.orientation)?'landscape':'portrait':'',e=$(ut),n=e.width(),r=e.height(),i=ot.defaults.devices,a=0,o=mt.length;o>a;a++){var s=mt[a],u=n,c=r;if(s.element&&(u=s.element.width(),c=s.element.height()),s.orientation){if(!t&&'portrait'!==s.orientation)continue;if(t!==s.orientation)continue}if(!(s.minW&&s.minW>=u||s.maxW&&s.maxW<=u||s.minH&&s.minH>=c||s.maxH&&s.maxH<=c||s.oldW===u&&s.oldH!==c&&!s.maxH&&!s.minH||s.oldH===c&&s.oldW!==u&&!s.maxW&&!s.minW||s.oldW===u&&s.oldH===c)){var l;u>=i.md.min&&u<=i.md.max?l='md':u>=i.sm.min&&u<=i.sm.max?l='sm':u>i.lg.min?l='lg':u<=i.xs.max&&(l='xs'),s.oldW=u,s.oldH=c,s.fn(u,c,l,s.id)}}}function n(t,e,n,r){var i=t.indexOf(' #');if(-1===i)return void r(t,e);var a=t.substring(0,i);void 0===e&&(e=H(a)),ut.MIDDLEWARE(t.substring(i+1).trim().replace(/\#/g,'').split(' '),e,function(t){r(a,t)},a)}function r(t,e,n){if(t.value!==e){if(t.value!==t.$value2){var r=!1;if(9!==n.keyCode&&(t.$com.$dirty&&(r=!0),t.$com.dirty(!1,!0)),t.$com.getter(t.value,2,r,e,'focusout'===n.type||13===n.keyCode),'INPUT'===t.nodeName||'TEXTAREA'===t.nodeName){var o=t.$com.formatter(t.value);if(t.value!==o){var s=a(t);t.value=o,i(t,s)}}t.$value2=t.value}setTimeout2('$jckp'+t.$com.id,function(){t.$value2=t.$value=void 0},3e5)}}function i(t,e){if(t.createTextRange){var n=t.createTextRange();return n.move('character',e),n.select(),!0}return t.selectionStart||!t.selectionStart?(t.focus(),t.setSelectionRange(e,e),!0):void 0}function a(t){if(document.selection){var e=document.selection.createRange();return e.moveStart('character',-t.value.length),e.text.length}return t.selectionStart||!t.selectionStart?t.selectionStart:0}function o(t,e,n,r,i,a){var o=n+'='+r+'='+i,s=vt[o];if(void 0!==s)return s;if(0===n){for(var u=0,c=t.length;c>u;u++)if(void 0!==e[u])if(a){if(t[u]!==e[u].raw)return vt[o]=!1,!1}else if(t[u]!==e[u].path)return vt[o]=!1,!1;return vt[o]=!0,!0}if(1===n){if(t.length!==e.length)return!1;for(var u=0,c=e.length;c>u;u++)if(t[u]!==e[u].raw)return vt[o]=!1,!1;return vt[o]=!0,!0}if(2===n){for(var u=0,c=t.length;c>u;u++)if(void 0!==e[u]&&t[u]!==e[u].raw)return vt[o]=!1,!1;return vt[o]=!0,!0}}function s(t,e){return e=e?'-'+e:'',t.getAttribute?t.getAttribute('data-jc'+e):t.attr('data-jc'+e)}function u(t,e){return e=e?'-'+e:'',t.getAttribute?t.getAttribute('data-ja'+e):t.attr('data-ja'+e)}function c(t,e,n,r){if(t=t?$(t).get(0):document.body){var i=u(t);!t.$app&&null!=i&&n(i,t,0),i=s(t),!t.$com&&null!=i&&e(i,t,0);var a=t.childNodes,o=[];void 0===r?r=0:r++;for(var l=0,f=a.length;f>l;l++){var d=a[l];if(d){if(!d.tagName)continue;d.childNodes.length&&'SCRIPT'!==d.tagName&&B.test(d.innerHTML)&&o.push(d),d.$app||(i=u(d),null!=i&&n(i||'',d,r)),d.$com||(i=s(d),null!=i&&e(i||'',d,r))}}for(var l=0,f=o.length;f>l;l++)d=o[l],d&&c(d,e,n,r)}}function l(t){for(var e=-1,n=-1,r='',i='',a='',o='',s='';;){if(e=t.indexOf('<script',n),-1===e)break;if(n=t.indexOf('</script>',e),-1===n)break;var u=t.substring(e,n),e=u.indexOf('>')+1,c=u.substring(0,e);u=u.substring(e).trim(),-1!==c.indexOf('markdown')?a=u:-1!==c.indexOf('html')?-1!==c.indexOf('settings')?r=u:s=u:i=u,n+=9}if(!u)return!1;e=t.indexOf('<style'),-1!==e&&(o=t.substring(t.indexOf('>',e)+1,t.indexOf('</style>')).trim());var l={};try{new Function('exports',i)(l)}catch(f){p('A problem with compiling application: {0}.'+f.toString())}if(!l.name||!l.install)return!1;var d=l.name;if(l.settings=r,l.readme=a,l.html=s,o&&($('#appcss_'+l.name).remove(),$('<style type="text/css" id="appcss_{0}">'.format(l.name)+o+'</style>').appendTo('head')),ot.$apps[d]){var h=ot.$apps[d];try{h.uninstall&&h.uninstall(!0)}catch(f){p('A problem with uninstalling application "{0}": {1}.'.foramt(d,f.toString()))}ot.$apps[d]=l;var v=ot.apps.slice(0);v.waitFor(function(t,e){return t.name!==d?e():(t.remove(!0),void e())})}else ot.$apps[d]=l;return!0}function f(){if(clearTimeout(Dt),ot.defaults.localstorage){var t;try{t=localStorage.getItem(ot.$localstorage+'.cache'),t&&'string'==typeof t&&(lt=PARSE(t))}catch(e){}try{t=localStorage.getItem(ot.$localstorage+'.blocked'),t&&'string'==typeof t&&(ct=PARSE(t))}catch(e){}}if(lt){var n=lt.$jcpath;n&&Object.keys(n.value).forEach(function(t){ot.set(t,n.value[t],!0)})}ut.jQuery&&setTimeout(d,2)}function d(t){if('string'==typeof t)return void l(t);if(at.is)return void(at.recompile=!0);var e=[];if(ut.READY&&e.push.apply(e,ut.READY),ut.jComponent&&e.push.apply(e,ut.jComponent),ut.components&&e.push.apply(e,ut.components),e.length)for(;;){var n=e.shift();if(!n)break;n()}if(at.is=!0,h(),at.pending.length)return void function(t){at.pending.push(function(){d(t)})}(t);var r=$(Z),i=r.length,a=!1;return c(t,function(t,e){var n=$(e);if(a=!0,at.init['$ST_'+t])return void v(n);var o=[],u=t.split(',');u.forEach(function(t){t=t.trim();var a=ot.$components[t||''];if(!a){var c=s(n,'import');if(!c)return void(!at.init['$NE_'+t]&&(at.init['$NE_'+t]=!0));if(1===at.imports[c])return;return 2===at.imports[c]?void(!at.init['$NE_'+t]&&(at.init['$NE_'+t]=!0)):(at.imports[c]=1,void IMPORT(c,function(){at.imports[c]=2}))}var l=a(n);l.init&&(at.init[t]||(at.init[t]=!0,l.init()),l.init=void 0),l.$init=s(n,'init')||null,l.type=s(n,'type')||'',l.id=s(n,'id')||l._id,l.siblings=u.length>1,e.$com=l,l.$noscope||(l.$noscope='true'===s(n,'noscope'));var f=l.path?l.path.charCodeAt(0):0;if(!l.$noscope&&i&&l.path&&33!==f&&35!==f)for(var d=0;i>d;d++)if($.contains(r[d],e)){var h=r[d].$cope||s(r[d],'scope');if(r[d].$initialized=!0,!r[d].$processed){r[d].$processed=!0,h&&'?'!==h||(h=GUID(25).replace(/\d/g,''),r[d].$cope=h);var v=s(r[d],'value');if(v){var m=new Function('return '+v);xt['#'+ut.HASH(h)]=m,v=m(),j(h,v),C(h,v,1)}}l.setPath('?'===l.path?h:-1===l.path.indexOf('?')?h+'.'+l.path:l.path.replace(/\?/g,h)),l.scope=r[d],l.$controller=s(r[d],'controller'),l.pathscope=h}o.push(l);var g=s(n,'template')||l.template;if(g&&(l.template=g),'true'===s(n,'released')&&(l.$released=!0),s(n,'url'))return p('Components: You cannot use [data-jc-url] for the component: {0}[{1}]. Instead of it you have to use data-jc-template.'.format(l.name,l.path));if('string'==typeof g){var m=function(t){l.prerender&&(t=l.prerender(t)),'function'==typeof l.make&&l.make(t),b(n,l)},T=g.substring(0,1);if('.'===T||'#'===T||'['===T)return void m($(g).html());var E='TE'+ut.HASH(g),A=Nt[E];return A?m(A):void $.get(y(g),function(t){Nt[E]=t,m(t)})}return'string'==typeof l.make?-1!==l.make.indexOf('<')?(l.prerender&&(l.make=l.prerender(l.make)),n.html(l.make),void b(n,l)):void $.get(y(l.make),function(t){l.prerender&&(t=l.prerender(t)),n.html(t),b(n,l)}):(l.make&&l.make(),void b(n,l))}),n.data(et,o.length>1?o:o[0])},function(t,e){var n=ot.$apps[t];if(n){var r=u(e,'id');if(!r)return void p('Apps: The application "{0}" doesn\'t contain "data-ja-id" attribute.'.format(t));var i=$(e),a=r?'app.'+t+'.'+r+'.options':null;n.html&&i.empty().append(n.html),r='app'+ut.HASH(r);var o=new J(r,i,n,a);o.$cache=a,e.$app=o,i.data(et,o),ot.apps.push(o),B.test(n.html)&&d(i);var s=u(i,'class');s&&($t.push({toggle:s.split(' '),element:i}),i.removeAttr('data-ja-class'))}},void 0),a||(at.is=!1),void 0===t&&$t.length?void A($t,function(t,e){for(var n=0,r=t.toggle.length;r>n;n++)t.element.toggleClass(t.toggle[n]);e()},w):w()}function p(){ut.console&&ut.console.warn.apply(ut.console,arguments)}function h(){var t=[],e=0;if($(tt).each(function(){var e=$(this);if(!e.data(et)){e.data(et,'1');var n=u(e,'url'),r=n?n:s(e,'url'),i='once '===r.substring(0,5).toLowerCase();if('!'===r.substring(0,1)||i){if(r=r.substring(i?5:1),Nt[r])return;Nt[r]=2}var a={};a.url=r,a.element=e,a.callback=n?null:s(e,'init'),a.path=n?null:s(e,'path'),a.toggle=n?null:(s(e,'class')||'').split(' '),a.expire=(n?u(e,'cache'):s(e,'cache'))||ot.defaults.importcache,a.app=n?!0:!1,t.push(a)}}),t.length){var n=!1;A(t,function(t,r){var i=y(t.url),a=!1;AJAXCACHE('GET '+t.url,null,function(o){if(t.app)return l(o),n=!0,e++,r();if(i='$import'+i,Nt[i]&&(o=D(o)),a=o&&B.test(o),(a||t.app)&&(n=!0),t.element.html(o),Nt[i]=!0,a&&t.path){var u=t.element.find(K);u.each(function(){var e=$(this);$.each(this.attributes,function(){this.specified&&e.attr(this.name,this.value.replace('$',t.path))})})}if(t.toggle.length&&t.toggle[0]&&$t.push(t),t.callback&&!s(t.element)){var c=H(t.callback);'function'==typeof c&&c(t.element)}e++,r()},t.expire)},function(){L('valid','dirty','find'),e&&n&&d()})}}function v(t){var e=t.get(0);e.$com=null,e.$app=null,t.attr(nt,!0),t.attr('data-ja-removed',!0),t.remove()}function m(t,e,n,r,i){n&&!n.version&&ot.$version&&(n.version=ot.$version),n&&!n.language&&ot.$language&&(n.language=ot.$language),n=STRINGIFY(n);var a=ut.HASH(t+'#'+e.replace(/\//g,'')+n).toString();return g(a,r,i)}function g(t,e,n){var r=Date.now();if(void 0!==e)return'session'===n?(dt['$session'+t]=e,e):('string'==typeof n&&(n=n.parseExpire()),lt[t]={expire:r+n,value:e},F(),e);var i=dt['$session'+t];return i?i:(i=lt[t],i&&i.expire>r?i.value:void 0)}function y(t){var e=t.indexOf('?'),n=[];return ot.$version&&n.push('version='+encodeURIComponent(ot.$version)),ot.$language&&n.push('language='+encodeURIComponent(ot.$language)),n.length?(t+=-1!==e?'&':'?',t+n.join('&')):t}function b(t,e){var n,r=t.get(0),i=r.tagName;'INPUT'===i||'SELECT'===i||'TEXTAREA'===i?(e.$input=!0,n=e.element):n=t.find(rt),n.each(function(){!this.$com&&(this.$com=e)}),e.released&&e.released(e.$released),ot.components.push(e),at.init.push(e),'BODY'!==i&&B.test(t.get(0).innerHTML)&&d(t),N()}function T(){var t=at.init.pop();void 0===t?!at.ready&&d():(!t.$removed&&E(t),T())}function E(t){if(t){var e,r=t.get(),i=t.element;ft[t.name]&&ft[t.name].forEach(function(e){e.call(t,t)}),t.setter&&(t.$prepared||(t.$prepared=!0,t.$ready=!0,e=s(t,'value'),e&&(xt[e]||(xt[e]=new Function('return '+e)),t.$default=xt[e],void 0===r&&(r=t.$default(),j(t.path,r),C(t.path,r,0))),t.$binded?t.$interaction(0):(t.$binded=!0,n(t.middleware,r,1,function(e,n){t.setter(n,t.path,0),t.$interaction(0)})))),t.validate&&!t.$valid_disabled&&(t.$valid=t.validate(t.get(),!0)),t.done&&setTimeout(function(){t.done()},20),t.state&&t.state(0,3),t.$init&&setTimeout(function(){if(x(t.$init)){var e=OPERATION(t.$init);return e&&e.call(t,t),void(t.$init=void 0)}var n=H(t.$init);'function'==typeof n&&n.call(t,t),t.$init=void 0},5),i.trigger('component'),i.off('component');var a=s(i,'class');a&&function(t){setTimeout(function(){t=t.split(' ');for(var e=0,n=t.length;n>e;e++)i.toggleClass(t[e])},5)}(a),t.id&&EMIT('#'+t.id,t),EMIT('@'+t.name,t),EMIT('component',t)}}function A(t,e,n){var r=t.shift();return null==r?n&&n():void e(r,function(){A(t,e,n)})}function w(){var t=at.pending.shift();t?t():at.ready&&(at.is=!1)}function x(t){return 35===t.charCodeAt(0)}function k(t){var e=t.lastIndexOf('[');return-1===e?!1:(t=t.substring(e+1,t.length-1).substring(0,1),!('"'===t||'\''===t))}function O(t,e,n){var r=ht[e];if(!r)return!1;if(r=r[t],!r)return!1;for(var i=0,a=r.length;a>i;i++){var o=r[i];(!o.path||o.path===e)&&o.fn.apply(o.context,n)}return!0}function C(t,e,n){Lt[0]=t,Lt[1]=e,Lt[2]=n,O('watch','*',Lt)}function I(t,e,n,r){for(var i={},a=Object.keys(e),o=0,s=a.length;s>o;o++)for(var u=a[o].split('.'),c='',l=0,f=u.length;f>l;l++)c+=(c?'.':'')+u[l],i[c]=e[c];C(r,i[r],n),Object.keys(i).forEach(function(e){Lt[1]=i[e],O(t,e,Lt)})}function S(t,e){if(e){for(var n=e.split('.'),r=[],i='watch'===t,a=i?3:arguments.length,o=i?1:2;a>o;o++)r.push(arguments[o]);i&&r.push(arguments[3]),i&&(Lt[0]=e,Lt[1]=H(e),Lt[2]=arguments[3],O(t,'*',Lt));for(var s='',o=0,a=n.length;a>o;o++){var u=n[o],c=n[o];if('*'!==u){if(']'===c.substring(c.length-1,c.length)){var l=c.lastIndexOf('[');c=c.substring(0,l)}s+=o?'.':'',r[1]=H(s+u),O(t,s+u,r),u!==c&&O(t,s+c,r),s+=u}}return!0}}function N(){setTimeout2('$ready',function(){e(),_(),T();var t=ot.components.length;if($(document).trigger('components',[t]),Mt||(Mt=!0,L('valid','dirty','find'),EMIT('init'),EMIT('ready')),setTimeout2('$initcleaner',function(){P(),wt.splice(0).forEach(function(t){var e=t.element.find(rt).eq(0),n=e.val();if(n){var r=t.parser(n);t.set(r),C(t.path,r,3)}})},1e3),at.is=!1,$(Z).each(function(){var t=this;if(t.$initialized&&!t.$ready){var e=$(t);t.$ready=!0;var n=s(e,'class');n&&!function(t){t=t.split(' '),setTimeout(function(){for(var n=0,r=t.length;r>n;n++)e.toggleClass(t[n])},5)}(n);var r=s(t,'controller');if(r){var i=CONTROLLER(r);i?i.$init(t.$scope,e):(!Et[r]&&p('Components: The controller "{0}" not found.'.format(r)),Et[r]=!0)}var a=s(t,'init');if(a)if(x(a)){var o=OPERATION(a);o?o.call(e,t.$scope,e):(!Et[a]&&p('Components: The operation {0} not found.'.format(a)),Et[a]=!0)}else{var u=H(a);'function'==typeof u&&u.call(e,t.$scope,e)}}}),at.recompile&&(at.recompile=!1,d()),at.ready){for(var n=at.ready,r=0,i=n.length;i>r;r++)n[r](t);at.ready=void 0}},100)}function D(t){return t.replace(z,function(t){var e=t.indexOf('>'),n=t.substring(0,e+1);return'<style'===n.substring(0,6)||'<script>'===n||-1!==n.indexOf('/javascript"')?'':t})}function M(t,e){return t.replace(Q,function(t){return t=t.replace('<style>','<style type="text/css">'),e&&(t=t.replace('<style','<style '+e)),$(t).appendTo('head'),''})}function R(t,e){n(t,e,1,function(t,e){var n=t.replace('-->','->').indexOf('->');if(-1===n)return ot.set(t,e);var r=t.substring(0,n).trim(),i=t.substring(n+2).trim();ot.set(i,e[r])})}function j(t,e){if(35===t.charCodeAt(0)){var n=OPERATION(t);return void(n?n(e,t):(!Et[t]&&p('Components: The operation {0} not found.'.format(t)),Et[t]=!0))}var r='+'+t;if(pt[r])return pt[r](ut,e,t);if(-1!==t.indexOf('?'))return void(t='');for(var i=t.split('.'),a=[],o='',s=0,u=i.length;u>s;s++){o+=(''!==o?'.':'')+i[s];var c=k(i[s])?'[]':'{}';{if(s===u-1){if('{}'===c)break;o=o.substring(0,o.lastIndexOf('[')),a.push('if(!(w.'+o+' instanceof Array))w.'+o+'='+c);break}a.push('if(typeof(w.'+o+')!=="object"||w.'+o+'===null)w.'+o+'='+c)}}var l=new Function('w','a','b',a.join(';')+';var v=typeof(a)===\'function\'?a(MAIN.compiler.get(b)):a;w.'+t.replace(/\'/,'\'')+'=v;return v');return pt[r]=l,l(ut,e,t),at}function H(t,e){if(35===t.charCodeAt(0)){var n=OPERATION(t);return n?n:NOOP}var r='='+t;if(pt[r])return pt[r](e||ut);if(-1===t.indexOf('?')){for(var i=t.split('.'),a=[],o='',s=0,u=i.length-1;u>s;s++){var c=i[s],l=c.lastIndexOf('[');-1!==l&&a.push('if(!w.'+(o?o+'.':'')+c.substring(0,l)+')return'),o+=(''!==o?'.':'')+i[s],a.push('if(!w.'+o+')return')}var f=new Function('w',a.join(';')+';return w.'+t.replace(/\'/,'\''));return pt[r]=f,f(e||ut)}}function L(){if(!arguments.length)return void(dt={});for(var t=Object.keys(dt),e=0,n=t.length;n>e;e++){for(var r=t[e],i=!1,a=arguments,o=0;o<a.length;o++)if(r.substring(0,a[o].length)===a[o]){i=!0;break}i&&delete dt[r]}}function P(){for(var t=Object.keys(ht),e=!0,n=0,r=t.length;r>n;n++){var i=t[n];if(ht[i])for(var a=Object.keys(ht[i]),o=0,s=a.length;s>o;o++){var u=a[o],c=ht[i][u];if(c)for(var l=0;;){var f=c[l++];if(void 0===f)break;null==f.context||f.context.element&&f.context.element.closest(document.documentElement).length||(f.context&&f.context.element&&f.context.element.remove(),f.context.$removed=!0,f.context=null,ht[i][u].splice(l-1,1),ht[i][u].length||(delete ht[i][u],Object.keys(ht[i]).length||delete ht[i]),l-=2,e=!0)}}}for(var l=0,d=ot.components.length;d>l;){var p=ot.components[l++];p?p.$removed||(p.element&&p.element.closest(document.documentElement).length&&!p.attr(nt)?(p.$parser&&!p.$parser.length&&(p.$parser=void 0),p.$formatter&&!p.$formatter.length&&(p.$formatter=void 0)):(EMIT('destroy',p.name,p),p.destroy&&p.destroy(),p.element.off(),p.element.find('*').off(),p.element.remove(),p.element=null,p.$removed=!0,p.path=null,p.setter=null,p.getter=null,p.make=null,l--,ot.components.splice(l,1),d=ot.components.length,e=!0)):(l--,ot.components.splice(l,1),d=ot.components.length)}for(var l=0,d=ot.apps.length;d>l;){var h=ot.apps[l++];h?h.element&&h.element.closest(document.documentElement).length||(EMIT('destroy',h.name,h),h.emit('destroy'),h.destroy&&h.destroy(),h.element.off(),h.element.find('*').off(),h.element.remove(),h.element=null,h.$removed=!0,h.make=null,l--,ot.apps.splice(l,1),d=ot.apps.length):(l--,ot.apps.splice(l,1),d=ot.apps.length)}L('find'),ut.DATETIME=new Date;var v=ut.DATETIME.getTime(),m=!1,g=!1;for(var y in ct)ct[y]>v||(delete ct[y],m=!0);if(ot.defaults.localstorage&&m)try{localStorage.setItem(ot.$localstorage+'.blocked',JSON.stringify(ct))}catch($){}for(var y in lt){var f=lt[y];(!f.expire||f.expire<=v)&&(delete lt[y],g=!0)}g&&F(),e&&_()}function F(){try{ot.defaults.localstorage&&localStorage.setItem(ot.$localstorage+'.cache',JSON.stringify(lt))}catch(t){}}function _(){setTimeout2('$refresh',function(){ot.components.sort(function(t,e){if(t.$removed||!t.path)return 1;if(e.$removed||!e.path)return-1;var n=t.path.length,r=e.path.length;return n>r?-1:n===r?t.path.localeCompare(e.path):1})},200)}function Y(t,e,n){t&&t.length&&setTimeout(function(){for(var r=0,i=t.length;i>r;r++)t[r].state(e,n)},2)}function W(t,e){var n=this;n.element=t,n.mapping=e,n.refresh()}function X(t,e,n){var r=this;r.id='v'+GUID(10),r.container=t,r.element=n,r.selector=e,r.length=n.length,!r.length&&r.$refresh()}function J(t,e,n,r){var i=this;i.$events={},i.id=t,i.scope=u(e,'scope')||s(e,'scope')||'app'+GUID(10),!u(e,'noscope')&&e.attr('data-jc-scope',i.scope),i.name=n.name,i.type=n.type,i.element=e,i.key=r,i.declaration=n,i.$load(function(t){i.options=$.extend(!0,CLONE(n.options),t||EMPTYOBJECT),n.install.call(i,i),i.make&&i.make()})}function U(t){this._id='component'+at.counter++,this.usage=new G,this.$dirty=!0,this.$valid=!0,this.$validate=!1,this.$parser=[],this.$formatter=[],this.$skip=!1,this.$ready=!1,this.$path,this.trim=!0,this.middleware='',this.$released=!1,this.name=t,this.path,this.type,this.id,this.disabled=!1,this.make,this.done,this.prerender,this.destroy,this.state,this.validate,this.released,this.release=function(t){var e=this;return void 0===t||e.$removed?e.$released:(e.element.find(K).each(function(){var n=$(this);n.attr('data-jc-released',t?'true':'false');var r=n.data(et);r&&(r instanceof Array?r.forEach(function(n){n.$removed||n.$released===t||(r.$released=t,r.released&&r.released(t,e))}):r.$removed||r.$released===t||(r.$released=t,r.released&&r.released(t,e)))}),e.$released!==t&&(e.$released=t,e.released&&e.released(t,e)),t)},this.getter=function(t,e,n,r,i){var a=this;return t=a.parser(t),2!==e||i||(a.$skip=!0),2!==e||null!==r&&void 0!==r?(ot.validate(a.path),a):(a.trim&&'string'==typeof t&&(t=t.trim()),t===a.get()?(n&&ot.validate(a.path),a):(i&&(a.$skip=!1),a.getter2&&a.getter2.apply(a,arguments),a.set(a.path+a.middleware,t,e),a))},this.setter=function(t,e,n){var r=this;if(2===n&&r.$skip)return r.$skip=!1,r;r.setter2&&r.setter2.apply(r,arguments);var i=r.$input===!0?r.element:r.element.find(rt),a='select-one';t=r.formatter(t),i.each(function(){var e=this,i=e.$com.path;if(!i||!i.length||i===r.path){if('checkbox'===e.type){var o=null!=t?t.toString().toLowerCase():'';return o='true'===o||'1'===o||'on'===o,void(o!==e.checked&&(e.checked=o))}if(null==t&&(t=''),n||e.type===a||'range'===e.type||t&&(!r.$default||r.$default()!==t)||wt.push(e.$com),e.type===a||'select'===e.type){var s=$(e);s.val()!==t&&s.val(t)}else e.value!==t&&(e.value=t)}})}}function G(){var t=this;t.init=0,t.manually=0,t.input=0,t['default']=0,t.custom=0,t.dirty=0,t.valid=0}var B=/(data-ja|data-jc)\=/,z=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>|<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,Q=/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,V=/\s/g,q=/,/g,Z='[data-jc-scope],[data-jc-controller]',K='[data-jc]',tt='[data-jc-url],[data-ja-url]',et='jc',nt='data-jc-removed',rt='input[data-jc-bind],textarea[data-jc-bind],select[data-jc-bind]',it={225:'a',228:'a',269:'c',271:'d',233:'e',283:'e',357:'t',382:'z',250:'u',367:'u',252:'u',369:'u',237:'i',239:'i',244:'o',243:'o',246:'o',353:'s',318:'l',314:'l',253:'y',255:'y',263:'c',345:'r',341:'r',328:'n',337:'o'},at={},ot={},st={},ut=window,ct={},lt={},ft={},dt={},pt={},ht={},vt={},mt={},gt={},yt=[],$t=[],bt={},Tt={},Et=[],At={},wt=[],xt={},kt={},Ot={},Ct={},It={},St=[],Nt={},Dt=setTimeout(f,2),Mt=!1,Rt=0,jt=0,Ht=0,Lt=[null,null,null],Pt=[null,null];ut.MAIN=ut.M=ut.jC=ut.COM=ot,ut.APPS=ut.A=st,ut.EMPTYARRAY=[],ut.EMPTYOBJECT={},ut.DATETIME=new Date,ot.defaults={},ot.defaults.delay=300,ot.defaults.keypress=!0,ot.defaults.localstorage=!0,ot.defaults.jsoncompress=!1,ot.defaults.jsondate=!0,ot.defaults.headers={'X-Requested-With':'XMLHttpRequest'},ot.defaults.devices={xs:{max:768},sm:{min:768,max:992},md:{min:992,max:1200},lg:{min:1200}},ot.defaults.importcache='session',ot.defaults.jsonconverter={'text json':function(t){return PARSE(t)}},ot.validators={},ot.validators.url=/^(http|https):\/\/(?:(?:(?:[\w\.\-\+!$&'\(\)*\+,;=]|%[0-9a-f]{2})+:)*(?:[\w\.\-\+%!$&'\(\)*\+,;=]|%[0-9a-f]{2})+@)?(?:(?:[a-z0-9\-\.]|%[0-9a-f]{2})+|(?:\[(?:[0-9a-f]{0,4}:)*(?:[0-9a-f]{0,4})\]))(?::[0-9]+)?(?:[\/|\?](?:[\w#!:\.\?\+=&@!$'~*,;\/\(\)\[\]\-]|%[0-9a-f]{2})*)?$/i,ot.validators.phone=/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im,ot.validators.email=/^[a-zA-Z0-9-_.+]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/i,ot.regexp={},ot.regexp['int']=/(\-|\+)?[0-9]+/,ot.regexp['float']=/(\-|\+)?[0-9\.\,]+/,ot.regexp.date=/yyyy|yy|MM|M|dd|d|HH|H|hh|h|mm|m|ss|s|a|ww|w/g,ot.regexp.pluralize=/\#{1,}/g,ot.regexp.format=/\{\d+\}/g,ot.version='v10.0.0',ot.$localstorage='jc',ot.$version='',ot.$language='',ot.$components={},ot.components=[],ot.$apps={},ot.apps=[],ot.$formatter=[],ot.$parser=[],ot.compiler=at,at.is=!1,at.recompile=!1,at.pending=[],at.imports=[],at.init=[],at.imports={},at.ready=[],at.counter=0,Object.freeze&&(Object.freeze(EMPTYOBJECT),Object.freeze(EMPTYARRAY)),ut.MAN=at,ut.MAN.set=j,ot.compile=d,ot.clean=function(t){return setTimeout2('$clean',P,t||10),ot},ot.evaluate=function(t,e,n){var r,i='eval'+e,a=vt[i];return r=n?t:H(t),void 0!==a?a.call(r,r,t):(-1===e.indexOf('return')&&(e='return '+e),a=new Function('value','path',e),vt[i]=a,a.call(r,r,t))},ot.cookies={get:function(t){for(var e=document.cookie.split(';'),n=0;n<e.length;n++){var r=e[n];' '===r.charAt(0)&&(r=r.substring(1));var i=r.split('=');if(i.length>1&&i[0]===t)return i[1]}return''},set:function(t,e,n){var r=typeof n;if('number'===r){var i=ut.DATETIME;i.setTime(i.getTime()+24*n*60*60*1e3),n=i}else'string'===r&&(n=new Date(Date.now()+n.parseExpire()));document.cookie=t+'='+e+'; expires='+n.toGMTString()+'; path=/'},rem:function(t){ot.set(t,'',-1)}},ot.formatter=function(t,e,n){if('function'==typeof t)return!ot.$formatter&&(ot.$formatter=[]),ot.$formatter.push(t),ot;var r=ot.$formatter;if(r&&r.length)for(var i=0,a=r.length;a>i;i++)t=r[i].call(ot,e,t,n);return t},ot.parser=function(t,e,n){if('function'==typeof t)return!ot.$parser&&(ot.$parser=[]),ot.$parser.push(t),this;var r=ot.$parser;if(r&&r.length)for(var i=0,a=r.length;a>i;i++)t=r[i].call(ot,e,t,n);return t},ot.upload=function(t,e,n,r,i){return t||(t=location.pathname),'number'==typeof n&&(r=n,n=void 0),setTimeout(function(){var r=new XMLHttpRequest,a={};a.process=!0,a.error=!1,a.upload=!0,a.method='POST',a.url=t,a.data=e,r.addEventListener('load',function(){var t=this.responseText;try{t=PARSE(t,ot.defaults.jsondate)}catch(e){}if(i&&('string'==typeof i?R(i,100):i(100)),a.response=t,a.status=this.status,a.error=200!==this.status,a.headers=this.getAllResponseHeaders(),EMIT('response',a),a.process){if(!a.error)return'string'==typeof n?R(n,t):n&&n(t);t||(t=a.response=this.status+': '+this.statusText),EMIT('error',a),a.process&&'function'==typeof n&&n({},t,a)}},!1),r.upload.onprogress=function(t){if(i){var e=0;t.lengthComputable&&(e=Math.round(100*t.loaded/t.total)),'string'==typeof i?R(i,e):i(e,t.transferSpeed,t.timeRemaining)}},r.open('POST',t),Object.keys(ot.defaults.headers).forEach(function(t){r.setRequestHeader(t,ot.defaults.headers[t])}),r.send(e)},r||0),ot},ot.ready=function(t){return at.ready?at.ready.push(t):t(),ot},ot.watch=function(t,e,n){return'function'==typeof t&&(n=e,e=t,t='*'),ON('watch',t,e),n&&e.call(ot,t,H(t),0),ot},ot.on=function(t,e,n,r){'function'==typeof e?(n=e,e='watch'===t?'*':''):e=e.replace('.*','');var i=null;return 33===e.charCodeAt(0)&&(e=e.substring(1),i=e),ht[e]?ht[e][t]||(ht[e][t]=[]):(ht[e]={},ht[e][t]=[]),ht[e][t].push({fn:n,id:this._id,path:i}),r&&n.call(ot,e,H(e),!0),!at.ready&&('ready'===t||'init'===t)&&n(),ot},ot.emit=function(t){var e=ht[''];if(!e)return!1;if(e=ht[''][t],!e)return!1;for(var n=[],r=1,i=arguments.length;i>r;r++)n.push(arguments[r]);for(var r=0,i=e.length;i>r;r++){var a=e[r].context;(void 0===a||null!==a&&!a.$removed)&&e[r].fn.apply(a||window,n)}return!0},ot.change=function(t,e){return void 0===e?!ot.dirty(t):!ot.dirty(t,!e)},ot.used=function(t){return ot.each(function(t){t.used()},t,!0),ot},ot.valid=function(t,e,n){var r,i=e instanceof Array,a='valid'+t+(i?'>'+e.join('|'):'');if(i&&(r=e,e=void 0),'boolean'!=typeof e&&void 0!==dt[a])return dt[a];var o=!0,s=void 0!==e?[]:null;return ot.each(function(a,u,c){if(!i||-1===r.indexOf(a.path)){if(a.disabled||a.$valid_disabled)return void(s&&a.state&&s.push(a));if(void 0===e)return void(a.$valid===!1&&(o=!1));a.state&&s.push(a),n?n._id===a._id&&(a.$valid=e,a.$interaction(102)):(c||a.path===t)&&(a.$valid=e,a.$validate=!1,a.$interaction(102)),a.$valid===!1&&(o=!1)}},t,!0),L('valid'),dt[a]=o,Y(s,1,1),o},ot.dirty=function(t,e,n,r){var i,a=e instanceof Array,o='dirty'+t+(a?'>'+e.join('|'):'');if(a&&(i=e,e=void 0),'boolean'!=typeof e&&void 0!==dt[o])return dt[o];var s=!0,u=void 0!==e?[]:null;return ot.each(function(r,o,c){if(!a||-1===i.indexOf(r.path)){if(r.disabled||r.$dirty_disabled)return void(u&&r.state&&u.push(r));if(void 0===e)return void(r.$dirty===!1&&(s=!1));r.state&&u.push(r),n?n._id===r._id&&(r.$dirty=e,r.$interaction(101)):(c||r.path===t)&&(r.$dirty=e,r.$interaction(101)),r.$dirty===!1&&(s=!1)}},t,!0),L('dirty'),dt[o]=s,!r&&Y(u,1,2),s},ot['import']=function(t,e,n,r,i){var a=t.substring(0,1),o='once '===t.substring(0,5).toLowerCase();'function'==typeof e?('function'==typeof n?(i=n,r=!0):'function'==typeof r&&(i=r,r=!0),n=e,e='body'):'function'==typeof r&&(i=r,r=!0),void 0===r&&(r=!0);var s=t.lastIndexOf(' .'),u='';if(-1!==s&&(u=t.substring(s).trim().toLowerCase(),t=t.substring(0,s).trim()),'!'===a||o){if(t=t.substring(o?5:1),Nt[t])return n?2===Nt[t]?(n(),ot):(WAIT(function(){return 2===Nt[t]},n),ot):ot;Nt[t]=1}if(e&&e.setPath&&(e=e.element),e||(e='body'),!u)if(s=t.lastIndexOf('?'),-1!==s){var c=t.lastIndexOf('.',s);-1!==c&&(u=t.substring(c,s).toLowerCase())}else s=t.lastIndexOf('.'),-1!==s&&(u=t.substring(s).toLowerCase());var l=document;if('.js'===u){var f=l.createElement('script');return f.type='text/javascript',f.async=!0,f.onload=function(){Nt[t]=2,n&&n(),ut.jQuery&&setTimeout(d,300)},f.src=t,l.getElementsByTagName('head')[0].appendChild(f),ot}if('.css'===u){var p=l.createElement('link');return p.type='text/css',p.rel='stylesheet',p.href=t,l.getElementsByTagName('head')[0].appendChild(p),Nt[t]=2,n&&setTimeout(n,200),ot}return WAIT(function(){return ut.jQuery?!0:!1},function(){Nt[t]=2;var a='';r&&(a='data-jc-imported="'+(1e5*Math.random()>>0)+'"',$(e).append('<div '+a+'></div>'),e=$(e).find('> div['+a+']'));var o=y(t);AJAXCACHE('GET '+o,null,function(t){o='$import'+o,i&&(t=i(t)),t=dt[o]?D(t):M(t,a),$(e).html(t),dt[o]=!0,setTimeout(function(){t&&B.test(t)&&d(e),n&&n()},10)},ot.defaults.importcache)}),ot},ot.cachepath=function(t,e,n){var r='$jcpath';if(ot.watch(t,function(n,i){var a=g(r);a?a[t]=i:(a={},a[t]=i),g(r,a,e)}),void 0===n||n){var i=g(r);i&&void 0!==i[t]&&i[t]!==H(t)&&ot.set(t,i[t],!0)}return ot},ot.cache=function(t,e,n){return g(t,e,n)},ot.removeCache=function(t,e){if(e)for(var n in lt)-1!==n.indexOf(t)&&delete lt[t];else delete lt[t];return F(),ot},ot.usage=function(t,e,n,r){var i=typeof e;'string'===i?e=ut.DATETIME.add('-'+e):'number'===i&&(e=Date.now()-e),'function'==typeof n&&(r=n,n=void 0);var a=[];return n?ot.findByPath(n,function(n){n.usage[t]>e||(r?r(n):a.push(n))}):ot.components.forEach(function(n){n.usage[t]>e||(r?r(n):a.push(n))}),r?ot:a},ot.parseCookie=ot.parseCookies=function(){for(var t=document.cookie.split(';'),e={},n=0,r=t.length;r>n;n++){var i=t[n].trim(),a=i.indexOf('=');-1!==a&&(e[i.substring(0,a)]=decodeURIComponent(i.substring(a+1)))}return e},ot.createURL=function(t,e){'object'==typeof t&&(e=t,t=location.pathname+location.search);var n,r=t.indexOf('?');-1!==r?(n=ot.parseQuery(t.substring(r+1)),t=t.substring(0,r)):n={};for(var i=Object.keys(e),a=0,o=i.length;o>a;a++){var s=i[a];n[s]=e[s]}var u=$.param(n,!0);return t+(u?'?'+u:'')},ot.parseQuery=function(t){if(t||(t=location.search),!t)return EMPTYOBJECT;var e=t.indexOf('?');-1!==e&&(t=t.substring(e+1));for(var n=t.split('&'),r={},i=0,a=n.length;a>i;i++){var o=n[i].split('='),s=o[0],u=decodeURIComponent((o[1]||'').replace(/\+/g,'%20'));r[s]?(r[s]instanceof Array||(r[s]=[r[s]]),r[s].push(u)):r[s]=u}return r},ot.AJAX=function(t,e,r,i){'function'==typeof t&&(i=r,r=e,e=t,t=location.pathname);var a,o=typeof e;r||'function'!==o&&'string'!==o||(i=r,r=e,e=void 0);var s=t.indexOf(' ');if(-1===s)return ot;var u=t.substring(0,s).toUpperCase(),c='!'===u.substring(0,1);c&&(u=u.substring(1));var l={};a=t.match(/\{.*?\}/g),a&&(t=t.replace(a,'').replace(/\s{2,}/g,' '),a=new Function('return '+a)(),'object'==typeof a&&(l=a)),t=t.substring(s).trim(),s=t.indexOf(' #');var f='';return-1!==s&&(f=t.substring(s),t=t.substring(0,s)),setTimeout(function(){'GET'===u&&e&&(t+='?'+('string'==typeof e?e:jQuery.param(e,!0)));var i={};i.type=u,i.converters=ot.defaults.jsonconverter,'GET'!==u&&('string'==typeof e?i.data=e:(i.contentType='application/json; charset=utf-8',i.data=STRINGIFY(e))),t.match(/http\:\/\/|https\:\/\//i)&&(i.crossDomain=!0,c&&(i.xhrFields={withCredentials:!0})),i.headers=$.extend(l,ot.defaults.headers);var a=ut.HASH(t+STRINGIFY(i)),o=bt[a];o&&(o.jcabort=!0,o.abort(),o=void 0);var s={};s.url=t,s.process=!0,s.error=!1,s.upload=!1,s.method=u,s.data=e,i.success=function(t,e,i){delete bt[a],s.response=t,s.status=e,s.headers=i.getAllResponseHeaders(),EMIT('response',s),s.process&&n(f,s.response,1,function(t,e){'string'==typeof r?R(r,e):r&&r(e,void 0,s)})},i.error=function(t,e,n){if(delete bt[a],s.response=t.responseText,s.status=e+': '+n,s.error=!0,s.headers=t.getAllResponseHeaders(),-1!==s.headers.indexOf('/json'))try{s.response=PARSE(s.response,ot.defaults.jsondate)}catch(n){}EMIT('response',s),s.process&&EMIT('error',s),s.process&&'function'==typeof r&&r(s.response,s.status,s)},bt[a]=$.ajax(y(t),i)},i||0),ot},ot.AJAXCACHEREVIEW=function(t,e,n,r,i,a){return AJAXCACHE(t,e,n,r,i,a,!0)},ot.AJAXCACHE=function(t,e,n,r,i,a,o){'function'==typeof t&&(i=n,n=e,e=t,t=location.pathname);var s=typeof e;if(n&&'number'!=typeof n||'function'!==s&&'string'!==s||(a=i,i=r,r=n,n=e,e=void 0),'boolean'==typeof i){var u=a;a=i,i=u}var c=t.indexOf(' ');if(-1===c)return ot;var l=t.substring(0,c).toUpperCase(),f=t.substring(c).trim();return setTimeout(function(){var i=a?void 0:m(l,f,e,void 0,r);if(void 0!==i){var s=o?STRINGIFY(i):null;if('string'==typeof n?R(n,i):n(i,!0),!o)return;return void AJAX(t,e,function(t,i){i&&(t=i),s!==STRINGIFY(t)&&(m(l,f,e,t,r),'string'==typeof n?R(n,t):n(t,!1,!0))})}ot.AJAX(t,e,function(t,i){i&&(t=i),m(l,f,e,t,r),'string'==typeof n?R(n,t):n(t,!1)})},i||1),ot},ot.schedule=function(t,e,n,r){'-'!==n.substring(0,1)&&(n='-'+n);var i=n.split(' '),a=i[1].toLowerCase().substring(0,1);return yt.push({name:e,expire:n,selector:t,callback:r,type:'y'===a||'d'===a?'h':a}),ot},ot.errors=function(t,e){t instanceof Array&&(e=t,t=void 0);var n=[];return ot.each(function(t){e&&-1!==e.indexOf(t.path)||t.$valid!==!1||t.$valid_disabled||n.push(t)},t),n},ot.can=function(t,e){return!ot.dirty(t,e)&&ot.valid(t,e)},ot.disabled=ot.disable=function(t,e){return ot.dirty(t,e)||!ot.valid(t,e)},ot.invalid=function(t,e){return ot.dirty(t,!1,e,!0),ot.valid(t,!1,e),ot},ot.blocked=function(t,e,n){var r=t,i=ct[r],a=Date.now();if(i>a)return!0;var o=ot.defaults.localstorage&&e>1e4;ct[r]=a+e;try{o&&localStorage.setItem(ot.$localstorage+'.blocked',JSON.stringify(ct));
}catch(s){}return n&&n(),!1},ot.update=function(t,e,r){var i=33===t.charCodeAt(0);return i&&(t=t.substring(1)),t=t.replace(/\.\*/,''),n(t,void 0,r,function(t){if(t){var a=[],o={},s=t;void 0===r&&(r=1);var u=s.split('.'),c=u.length,l=-1!==t.indexOf('[');ot.each(function(i){if(i.path&&!i.disabled){for(var s=!0,f=0;c>f;f++){var d=i.$$path[f];if(!d)return;if(l){if(d.raw!==u[f])return}else{if(d.path&&d.path!==u[f])return;d.is&&(s=!1)}}if(!s||!i.$path||i.$path===t){var p=i.get();i.setter&&(i.$skip=!1,n(i.middleware,p,r,function(e,n){i.setter(n,t,r)}),i.$interaction(r)),i.$ready=!0,e===!0?(i.$dirty_disabled||(i.$dirty=!0,i.$interaction(101)),i.$valid_disabled||(i.$valid=!0,i.$validate=!1,i.validate&&(i.$valid=i.validate(p),i.$interaction(102))),i.element.find(rt).each(function(){this.$value=this.$value2=void 0})):i.validate&&!i.$valid_disabled&&i.valid(i.validate(p),!0),i.state&&a.push(i),o[i.path]=p}}},i?t:void 0,void 0,i),e&&L('dirty','valid'),o[t]||(o[t]=H(t));for(var f=0,d=a.length;d>f;f++)a[f].state(1,4);d=t.length,Object.keys(ht).forEach(function(e){(e===t||e.substring(0,d+1)===t+'.')&&(o[e]=H(e))}),I('watch',o,r,t)}}),ot},ot.notify=function(){var t=arguments,e=arguments.length;return ot.each(function(n){if(n.path&&!n.disabled){for(var r=!1,i=0;e>i;i++)if(n.path===t[i]){r=!0;break}if(r){var a=n.get();n.setter&&n.setter(a,n.path,1),n.setter2&&n.setter(a,n.path,1),n.$interaction(1)}}}),Object.keys(ht).forEach(function(n){for(var r=!1,i=0;e>i;i++)if(n===t[i]){r=!0;break}r&&(Pt[0]=n,Pt[1]=H(n),O('watch',n,Pt))}),ot},ot.extend=function(t,e,n){var r=H(t);return null==r&&(r={}),ot.set(t,$.extend(r,e),n),ot},ot.rewrite=function(e,r){return n(e,r,1,t),ot},ot.inc=function(t,e,n){var r=H(t);return r?'number'!=typeof r&&(r=parseFloat(r),isNaN(r)&&(r=0)):r=0,r+=e,ot.set(t,r,n),ot},ot.set=function(t,e,r){return n(t,e,r,function(t,i){var a=33===t.charCodeAt(0);if(a&&(t=t.substring(1)),43===t.charCodeAt(0))return t=t.substring(1),ot.push(t,i,r);if(!t)return ot;var o='object'==typeof i&&!(i instanceof Array)&&null!==i&&void 0!==i,s=r===!0;if(s&&(r=1),j(t,i,r),o)return ot.update(t,s,r);var u=e!==i,c=H(t),l=[];void 0===r&&(r=1);var f=t.split('.'),d=f.length;ot.each(function(e){if(e.path&&!e.disabled){for(var i=0;d>i;i++){var a=e.$$path[i];if(a&&a.raw!==f[i])return}e.$path&&e.$path!==t||(e.path===t?e.setter&&(u&&(e.$skip=!1),n(e.middleware,c,r,function(n,i){e.setter(i,t,r)}),e.$interaction(r)):e.setter&&(u&&(e.$skip=!1),n(e.middleware,H(e.path),r,function(n,i){e.setter(i,t,r)}),e.$interaction(r)),e.$ready=!0,e.state&&l.push(e),s?(e.$dirty_disabled||(e.$dirty=!0),e.$valid_disabled||(e.$valid=!0,e.$validate=!1,e.validate&&(e.$valid=e.validate(c),e.$interaction(102))),e.element.find(rt).each(function(){this.$value=this.$value2=void 0})):e.validate&&!e.$valid_disabled&&e.valid(e.validate(c),!0))}},t,!0,a),s&&L('dirty','valid');for(var p=0,h=l.length;h>p;p++)l[p].state(r,5);S('watch',t,void 0,r,a)}),ot},ot.push=function(t,e,n){var r=H(t),i=!1;r instanceof Array||(r=[],i=!0);var a=!0;return e instanceof Array?e.length?r.push.apply(r,e):a=!1:r.push(e),i?ot.set(t,r,n):a&&ot.update(t,n),ot},ot.get=function(t,e){return H(t,e)},ot.remove=function(t){if(t instanceof jQuery){t.find(K).attr(nt,'true').each(function(){var t=$(this).data(et);t&&(t instanceof Array?t.forEach(function(t){t.$removed=!0}):t.$removed=!0)}),s(t,'template')&&t.attr(nt,'true');var e=t.data(et);return e&&(e instanceof Array?e.forEach(function(t){t.$removed=!0}):e.$removed=!0),setTimeout2('$cleaner',P,100),ot}return L(),ot.each(function(t){t.remove(!0)},t),setTimeout2('$cleaner',P,100),ot},ot.schema=function(t,e){if(!e)return $.extend(!0,{},At[t]);if('object'==typeof e)return At[t]=e,e;if('function'==typeof e){var n=e();return At[t]=n,n}if('string'!=typeof e)return void 0;var r=e.substring(0,1),i=e.substring(e.length-1);if('"'===r&&'"'===i||'['===r&&']'===i||'{'===r&&'}'===i){var a=PARSE(e,ot.defaults.jsondate);return At[t]=a,a}},ot.validate=function(t,e){var n=[],r=!0;return ot.each(function(t){t.disabled||e&&-1!==e.indexOf(t.path)||(t.state&&n.push(t),t.$valid_disabled||(t.$validate=!0,t.validate&&(t.$valid=t.validate(H(t.path)),t.$interaction(102),t.$valid||(r=!1))))},t),L('valid'),Y(n,1,1),S('validate',t),r},ot['default']=function(t,e,n,r){if(e>0)return setTimeout(function(){ot['default'](t,0,n,r)},e),ot;'boolean'==typeof n&&(r=n,n=null),void 0===r&&(r=!0);var i,a=t.replace(/\.\*$/,''),o=xt['#'+ut.HASH(a)];o&&(i=o(),j(a,i),C(a,i,3));var s=[];return ot.each(function(t){t.disabled||(t.state&&s.push(t),n&&n._id!==t._id||(t.$default&&t.path&&t.set(t.path,t.$default(),3),r&&(t.element.find(rt).each(function(){this.$value=this.$value2=void 0}),t.$dirty_disabled||(t.$dirty=!0),t.$valid_disabled||(t.$valid=!0,t.$validate=!1,t.validate&&(t.$valid=t.validate(t.get()),t.$interaction(102))))))},t),S('default',t),r?(L('valid','dirty'),Y(s,3,3),S('reset',t),ot):ot},ot.reset=function(t,e,n){if(e>0)return setTimeout(function(){ot.reset(t)},e),ot;var r=[];return ot.each(function(t){t.disabled||(t.state&&r.push(t),n&&n._id!==t._id||(t.element.find(rt).each(function(){this.$value2=this.$value=void 0}),t.$dirty_disabled||(t.$dirty=!0,t.$interaction(101)),t.$valid_disabled||(t.$valid=!0,t.$validate=!1,t.validate&&(t.$valid=t.validate(t.get()),t.$interaction(102)))))},t),L('valid','dirty'),Y(r,1,3),S('reset',t),ot},ot.findByPath=function(t,e){var n=typeof t;('function'===n||'boolean'===n)&&(e=t,t=void 0);var r,i=typeof e,a='function'===i,o='boolean'===i;return o&&(e=void 0,r=[]),ot.each(function(t){return a?e(t):o?void r.push(t):(r=t,!0)},t),a?ot:r},ot.findByName=function(t,e,n){return ot.findByProperty('name',t,e,n)},ot.findById=function(t,e,n){return ot.findByProperty('id',t,e,n)},ot.findByProperty=function(t,e,n,r){var i=typeof n;('function'===i||'boolean'===i)&&(r=n,n=void 0);var a,o=typeof r,s='function'===o,u='boolean'===o;return u&&(r=void 0,a=[]),ot.each(function(n){return n[t]===e?s?r(n):u?void a.push(n):(a=n,!0):void 0},n),s?ot:a},ot.each=function(t,e,n,r){var i=e?-1!==e.lastIndexOf('*'):!1;i&&(e=e.replace('.*',''));var a;a=e?e.split('.'):[];for(var s=0,u=e?-1!==e.indexOf('['):!1,c=0,l=ot.components.length;l>c;c++){var f=ot.components[c];if(!(!f||f.$removed||r&&f.path!==e)){if(e){if(!f.path)continue;if(i){var d=o(a,f.$$path,0,e,f.path,u);if(!d)continue}else if(e!==f.path){if(!n)continue;var d=o(a,f.$$path,2,e,f.path||'',u);if(!d)continue}}var p=t(f,s++,i);if(p===!0)return ot}}return ot},ut.TEMPLATE=function(t,e,n){return Nt[t]?('string'==typeof e?SET(e,Nt[t]):e(Nt[t]),ot):(AJAX('GET '+t,function(r,i){i&&(r='');var a=Nt[t]=n?n(r):r;'string'==typeof e?SET(e,a):e(a)}),ot)},st.emit=function(t,e,n,r,i){for(var a=0,o=ot.apps.length;o>a;a++)ot.apps[a].emit.call(ot.apps[a],t,e,n,r,i);return st},st['import']=function(t,e){var n=t.indexOf(' ');return(-1===n||n>5)&&(t='GET '+t),AJAX(t,function(t){var n=t?l(t):!1;e&&e(n?null:new Error('Invalid jComponent application.'))}),st},st.compile=function(t){return l(t)},st.save=function(){},at.get=H;var Ft=W.prototype;Ft.refresh=function(){for(var t=this,e=Object.keys(t.mapping),n=0,r=e.length;r>n;n++){var i=e[n];if('refresh'!==i){var a=t.mapping[i],o='function'==typeof a?a(t.element):t.element.find(a);t[i]?t[i].refresh():t[i]=new X(t,a,o instanceof jQuery?o:$(o))}else p('VIRTUALIZE can\'t contain field called "refresh" in mapping.')}return t};var _t=X.prototype;_t.refresh=function(){var t=this;return t.element='function'==typeof t.selector?t.selector(t.container.element):t.container.element.find(t.selector),t.length=t.element.length,t},_t.replace=function(t){return this.element.replaceWith(t),this.element=t,this},_t.$refresh=function(){var t=this;return t.length?t:(setTimeout(function(t){t.refresh(),t.$refresh()},200,t),t)},_t.click=function(t){var e=this.element;return e.off('click touchend'),e.on('click touchend',t),this};var Yt=J.prototype;J.prototype.change=function(){return this.$save(),this},J.prototype.emit=function(t){var e=this.$events[t];if(e&&e.length)for(var n=0,r=e.length;r>n;n++)e[n].call(this,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);return this},J.prototype.on=function(t,e){var n=this.$events[t];return!n&&(this.$events[t]=n=[]),n.push(e),this},J.prototype.path=function(t){return this.scope+(t?'.'+t:'')},J.prototype.set=function(t,e,n){var r=this;return ot.set(r.path(t),e,n),r},J.prototype.update=function(t,e,n){var r=this;return ot.update(r.path(t),e,n),r},J.prototype.notify=function(t){var e=this;return ot.notify(e.path(t)),e},J.prototype.inc=function(t,e,n){var r=this;return ot.inc(r.path(t),e,n),r},J.prototype.push=function(t,e,n){var r=this;return ot.push(r.path(t),e,n),r},J.prototype.extend=function(t,e,n){var r=this;return ot.extend(r.path(t),e,n),r},J.prototype.rewrite=function(t,e){var n=this;return ot.rewrite(n.path(t),e),n},J.prototype['default']=function(t,e,n,r){var i=this;return ot['default'](i.path(t),e,n,r),i},J.prototype.get=function(t){return H(self.path(t))},J.prototype.attr=function(t,e){var n=this.element;return void 0===e?n.attr(t):(n.attr(t,e),this)},J.prototype.remove=function(t){var e=this;return e.destroy&&e.destroy(),e.emit('destroy'),e.element.removeData(et),e.element.get(0).$app=null,t||(e.element.remove(),e.key&&ot.removeCache(e.key)),e.element.off(),ot.apps=ot.apps.remove(e),setTimeout2('$cleaner',P,100),e},J.prototype.$load=function(t){var e=this;return t(e.key?ot.cache(e.key):null),e},J.prototype.$save=function(){var t=this;return t.key&&ot.cache(t.key,t.options,'1 year'),t};var Wt=U.prototype;Wt.controller=function(){return CONTROLLER(this.$controller)},Wt.replace=function(t){var e=this;return e.element=$(t),e.element.get(0).$com=e,e},Wt.compile=function(t){return d(t||this.element),this},Wt.nested=function(){var t=[];return this.find(K).each(function(){var e=$(this),n=e.data(et);n&&!e.attr(nt)&&(n instanceof Array?t.push.apply(t,n):t.push(n))}),t},Wt.$interaction=function(t){var e=Date.now(),n=this;switch(t){case 0:n.usage.init=e,n.$binded=!0;break;case 1:n.usage.manually=e,n.$binded=!0;break;case 2:n.usage.input=e,n.$binded=!0;break;case 3:n.usage['default']=e,n.$binded=!0;break;case 100:n.usage.custom=e;break;case 101:n.usage.dirty=e;break;case 102:n.usage.valid=e}return n},Wt.notify=function(){return ut.NOTIFY(this.path),this},Wt.update=Wt.refresh=function(t){var e=this;return t?e.set(e.get()):(e.setter&&e.setter(e.get(),e.path,1),e.$interaction(1)),e},Wt.classes=Yt.classes=_t.classes=function(t){var e='cls.'+t,n=vt[e],r=this,i=r.element;if(n)return n.add&&i.addClass(n.add),n.rem&&i.removeClass(n.rem),r;for(var a=t instanceof Array?t:t.split(' '),o='',s='',u=0,c=a.length;c>u;u++){var l=a[u].substring(0,1);'-'===l?s+=(s?' ':'')+a[u].substring(1):o+=(o?' ':'')+('+'===l?a[u].substring(1):a[u])}return o&&i.addClass(o),s&&i.removeClass(s),t instanceof Array?r:(vt[e]={add:o,rem:s},r)},Wt.toggle=Yt.toggle=_t.toggle=function(t,e,n){var r=!1,i=this;'string'!=typeof t&&(n=e,e=t,t='hidden',r=!0),'number'==typeof e?(n=e,e=void 0):r&&void 0!==e&&(e=!e);var a=i.element;return n?(setTimeout(function(){a.toggleClass(t,e)},n),i):(a.toggleClass(t,e),i)},Wt.noscope=function(t){return this.$noscope=void 0===t?!0:t===!0,this},Wt.singleton=function(){return at.init['$ST_'+this.name]=!0,this},Wt.blind=function(){var t=this;return t.path=null,t.$path=null,t.$$path=null,t},Wt.readonly=function(){var t=this;return t.noDirty(),t.noValid(),t.getter=null,t.setter=null,t.$parser=null,t.$formatter=null,t},Wt.noValid=Wt.noValidate=function(t){void 0===t&&(t=!0);var e=this;return e.$valid_disabled=t,e.$valid=t,e},Wt.noDirty=function(t){void 0===t&&(t=!0);var e=this;return e.$dirty_disabled=t,e.$dirty=t?!1:!0,e},Wt.setPath=function(t,e){var n=null,r=this;33===t.charCodeAt(0)&&(t=t.substring(1),n=t);var i=t.indexOf(' #');-1!==i?(r.middleware=t.substring(i),t=t.substring(0,i)):r.middleware='',r.path=t,r.$path=n;for(var a=t.split('.'),o=[],s=0,u=a.length;u>s;s++){var c=a[s],l=c;i=c.indexOf('['),-1!==i&&(c=c.substring(0,i)),o.push({path:c,raw:l,is:-1!==i})}return r.$$path=o,!e&&at.ready&&_(),r},Wt.attr=Yt.attr=_t.attr=function(t,e){var n=this.element;return void 0===e?n.attr(t):(n.attr(t,e),this)},Wt.css=Yt.css=_t.css=function(t,e){var n=this.element;return void 0===e?n.css(t):(n.css(t,e),this)},Wt.html=Yt.html=_t.html=function(t){var e=this.element,n=e.html();if(void 0===t)return n;if(t instanceof Array&&(t=t.join('')),t===n)return e;var r=typeof t;return t||'number'===r||'boolean'===r?e.empty().append(t):e.empty()},Wt.empty=Yt.empty=_t.empty=function(){var t=this.element;return t.empty(),t},Wt.append=Yt.append=_t.append=function(t){var e=this.element;return t instanceof Array&&(t=t.join('')),t?e.append(t):e},Wt.event=Yt.event=_t.event=_t.on=function(){var t=this;return t.element.on.apply(t.element,arguments),t},Wt.find=Yt.find=_t.find=function(t){return this.element.find(t)},Wt.virtualize=Yt.virtualize=function(t){return ut.VIRTUALIZE(this.element,t)},Wt.isInvalid=function(){var t=!this.$valid;return t&&!this.$validate&&(t=!this.$dirty),t},Wt.watch=function(t,e,n){var r=this;return'function'==typeof t&&(n=e,e=t,t=r.path),r.on('watch',t,e),n&&e.call(r,t,r.get(t),0),r},Wt.invalid=function(){return ot.invalid(this.path,this)},Wt.valid=function(t,e){var n=this;return void 0===t?n.$valid:n.$valid_disabled?n:(n.$valid=t,n.$validate=!1,n.$interaction(102),L('valid'),!e&&n.state&&n.state(1,1),n)},Wt.style=function(t){return ut.STYLE(t),this},Wt.change=function(t){return ot.change(this.path,void 0===t?!0:t,this),this},Wt.used=function(){return this.$interaction(100)},Wt.dirty=function(t,e){return void 0===t?this.$dirty:this.$dirty_disabled?this:(this.$dirty=t,this.$interaction(101),L('dirty'),!e&&this.state&&this.state(2,2),this)},Wt.reset=function(){return ot.reset(this.path,0,this),this},Wt.setDefault=function(t){return this.$default=function(){return t},this},Wt['default']=function(t){return ot['default'](this.path,0,this,t),this},Wt.remove=function(t){var e=this;return e.element.removeData(et),e.element.find(K).attr(nt,'true'),e.element.attr(nt,'true'),e.$removed=!0,t||(L(),setTimeout2('$cleaner',P,100)),!0},Wt.on=function(t,e,n,r){'function'==typeof e?(r=n,n=e,e=''):e=e.replace('.*','');var i=null;33===e.charCodeAt(0)&&(e=e.substring(1),i=e),ht[e]?ht[e][t]||(ht[e][t]=[]):(ht[e]={},ht[e][t]=[]);var a=this;return ht[e][t].push({fn:n,context:a,id:a._id,path:i}),r&&n.call(ot,e,H(e)),a},Wt.formatter=function(t){var e=this;if('function'==typeof t)return e.$formatter||(e.$formatter=[]),e.$formatter.push(t),e;var n=e.$formatter;if(n&&n.length)for(var r=0,i=n.length;i>r;r++)t=n[r].call(e,e.path,t,e.type);if(n=ot.$formatter,n&&n.length)for(var r=0,i=n.length;i>r;r++)t=n[r].call(e,e.path,t,e.type);return t},Wt.parser=function(t){var e=this;if('function'==typeof t)return e.$parser||(e.$parser=[]),e.$parser.push(t),e;var n=e.$parser;if(n&&n.length)for(var r=0,i=n.length;i>r;r++)t=n[r].call(e,e.path,t,e.type);if(n=ot.$parser,n&&n.length)for(var r=0,i=n.length;i>r;r++)t=n[r].call(e,e.path,t,e.type);return t},Wt.emit=function(){return ot.emit.apply(ot,arguments),this},Wt.evaluate=function(t,e,n){return e||(e=t,t=this.path),ot.evaluate(t,e,n)},Wt.get=function(t){return t||(t=this.path),t?H(t):void 0},Wt.set=function(t,e,n){return void 0===e&&(e=t,t=this.path),t&&ot.set(t,e,n),this},Wt.inc=function(t,e,n){return void 0===e&&(e=t,t=this.path),t&&ot.inc(t,e,n),this},Wt.extend=function(t,e,n){return void 0===e&&(e=t,t=this.path),t&&ot.extend(t,e,n),this},Wt.push=function(t,e,n){return void 0===e&&(e=t,t=this.path),t&&ot.push(t,e,n),this},G.prototype.compare=function(t,e){'string'==typeof e&&'-'!==e.substring(0,1)&&(e=ut.DATETIME.add('-'+e));var n=this[t];return 0===n?!1:n<e.getTime()},G.prototype.convert=function(t){var e=Date.now(),n={},r=1,i=this;switch(t.toLowerCase().substring(0,3)){case'min':case'mm':case'm':r=6e4;break;case'hou':case'hh':case'h':r=36e4;break;case'sec':case'ss':case's':r=1e3}return n.init=0===i.init?0:(e-i.init)/r>>0,n.manually=0===i.manually?0:(e-i.manually)/r>>0,n.input=0===i.input?0:(e-i.input)/r>>0,n['default']=0===i['default']?0:(e-i['default'])/r>>0,n.custom=0===i.custom?0:(e-i.custom)/r>>0,n.dirty=0===i.dirty?0:(e-i.dirty)/r>>0,n.valid=0===i.valid?0:(e-i.valid)/r>>0,n},ut.PROTOTYPECONTAINER=Ft,ut.PROTOTYPEPROPERTY=_t,ut.PROTOTYPEAPP=Yt,ut.PROTOTYPECOMPONENT=Wt,ut.PROTOTYPEUSAGE=G.prototype,ut.isMOBILE='ontouchstart'in ut||navigator.maxTouchPoints?!0:!1,ut.isROBOT=navigator.userAgent?/search|agent|bot|crawler|spider/i.test(navigator.userAgent):!0,ut.isSTANDALONE=navigator.standalone||ut.matchMedia('(display-mode: standalone)').matches,ut.setTimeout2=function(t,e,n,r,i){var a=':'+t;if(r>0){var o=a+':limit';if(Nt[o]>=r)return;return Nt[o]=(Nt[o]||0)+1,Nt[a]&&clearTimeout(Nt[a]),Nt[a]=setTimeout(function(t){Nt[o]=void 0,e&&e(t)},n,i)}return Nt[a]&&clearTimeout(Nt[a]),Nt[a]=setTimeout(e,n,i)},ut.clearTimeout2=function(t){var e=':'+t;return Nt[e]?(clearTimeout(Nt[e]),Nt[e]=void 0,Nt[e+':limit']&&(Nt[e+':limit']=void 0),!0):!1},ut.TRY=function(t,e){try{return t(),!0}catch(n){e&&e(n)}return!1},ut.COMPONENT_EXTEND=function(t,e){ft[t]||(ft[t]=[]),ft[t].push(e);for(var n=0,r=ot.components.length;r>n;n++){var i=ot.components[n];i.$removed&&t!==i.name||e.apply(i,i)}},ut.COMPONENT=function(t,e){var n={},r=function(r){var i=new U(t);return i.global=n,i.element=r,i.setPath(s(r,'path')||i._id,!0),e.call(i),i};ot.$components[t]&&p('Components: Overwriting component:',t),ot.$components[t]=r},ut.SINGLETON=function(t,e){return gt[t]||(gt[t]=new Function('return '+(e||'{}'))())},ut.WIDTH=function(t){t||(t=$(ut));var e=t.width(),n=ot.defaults.devices;return e>=n.md.min&&e<=n.md.max?'md':e>=n.sm.min&&e<=n.sm.max?'sm':e>n.lg.min?'lg':e<=n.xs.max?'xs':''},ut.WORKFLOW=function(t,e){if(!e){if(!It)return NOOP;var n=It[t];return n instanceof Array?function(){for(var t=0,e=n.length;e>t;t++)n[t].apply(this,arguments)}:NOOP}It||(It={});var n=It[t];n?n.push(e):It[t]=[e]},ut.MEDIAQUERY=function(t,e,n){if('number'==typeof t)return mt.remove('id',t),!0;'function'==typeof e&&(n=e,e=null),t=t.toLowerCase();var r;if(-1!==t.indexOf(',')){var i=[];return t.split(',').forEach(function(t){t=t.trim(),t&&i.push(ut.MEDIAQUERY(t,e,n))}),i}var a=ot.defaults.devices;'md'===t?t='min-width:{0}px and max-width:{1}px'.format(a.md.min,a.md.max):'lg'===t?t='min-width:{0}px'.format(a.lg.min):'xs'===t?t='max-width:{0}px'.format(a.xs.max):'sm'===t&&(t='min-width:{0}px and max-width:{1}px'.format(a.sm.min,a.sm.max));var o=t.match(/(max-width|min-width|max-device-width|min-device-width|max-height|min-height|max-device-height|height|width):(\s)\d+(px|em|in)?/gi),s={},u=function(t){var e=parseInt(t.match(/\d+/),10);return t.match(/\d+(em)/)?16*e:t.match(/\d+(in)/)?.010416667*e>>0:e};if(o)for(var c=0,l=o.length;l>c;c++){var f=o[c],d=f.indexOf(':');switch(f.substring(0,d).toLowerCase().trim()){case'min-width':case'min-device-width':case'width':s.minW=u(f);break;case'max-width':case'max-device-width':s.maxW=u(f);break;case'min-height':case'min-device-height':case'height':s.minH=u(f);break;case'max-height':case'max-device-height':s.maxH=u(f)}}if(o=t.match(/orientation:(\s)(landscape|portrait)/gi))for(var c=0,l=o.length;l>c;c++){var f=o[c];s.orientation=-1!==f.toLowerCase().indexOf('portrait')?'portrait':'landscape'}return s.id=jt++,s.fn=n,s.type=r,e&&(s.element=e),mt.push(s),s.id},ut.UPLOAD=ot.upload,ut.MIDDLEWARE=function(t,e,n,r){if(!(t instanceof Array))return void(Tt[t]=e);if('function'!=typeof n){var i=n;n=e,e=i}var a={};t.waitFor(function(t,n){var i=Tt[t];return i?void i.call(a,n,e,r):(!Et[t]&&p('Components: Middleware "{0}" not found.'.format(t)),Et[t]=!0,void n())},function(t){n&&n.call(a,void 0!==t?t:e,r)})},ut.FN=function(t){var e=t.indexOf('=>'),n=t.substring(0,e).trim(),r=t.substring(e+2).trim(),i=!1;n=n.replace(/\(|\)|\s/g,'').trim(),n&&(n=n.split(',')),123===r.charCodeAt(0)&&(i=!0,r=r.substring(1,r.length-1).trim());var a=(i?'':'return ')+r;switch(n.length){case 1:return new Function(n[0],a);case 2:return new Function(n[0],n[1],a);case 3:return new Function(n[0],n[1],n[2],a);case 4:return new Function(n[0],n[1],n[2],n[3],a);case 0:default:return new Function(a)}},ut.SETTER=function(t,e){for(var n=[],r=t===!0?3:2,i=r;i<arguments.length;i++)n.push(arguments[i]);return 3===r?(t=e,e=arguments[2],FIND(t,function(t){'function'==typeof t[e]?t[e].apply(t,n):t[e]=n[0]})):FIND(t,!0).forEach(function(t){'function'==typeof t[e]?t[e].apply(t,n):t[e]=n[0]}),ut.SETTER},ut.EXEC=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r=t.charCodeAt(0);if(35===r)return OPERATION(t).apply(ut,e),EXEC;var i=t.indexOf('/');if(-1!==i){var a=CONTROLLER(t.substring(0,i)),o=t.substring(i+1);return a&&'function'==typeof a[o]&&a[o].apply(a,e),ut.EXEC}var o=H(t);return'function'==typeof o&&o.apply(ut,e),ut.EXEC},ut.MAKE=function(t,e,n){switch(typeof t){case'function':e=t,t={};break;case'string':var r=t,i=!0;return t=H(r),null==t&&(i=!1,t={}),e.call(t,t,r),!i||void 0!==n&&n!==!0?at.ready?j(r,t):ot.set(r,t,!0):ot.update(r,!0),t}return e.call(t,t,''),t},ut.CLONE=function(t){var e=typeof t;switch(e){case'number':case'string':case'boolean':return t}return null==t?t:t instanceof Date?new Date(t.getTime()):PARSE(JSON.stringify(t))},ut.STRINGIFY=function(t,e){return void 0===e&&(e=ot.defaults.jsoncompress),JSON.stringify(t,function(t,n){if(e===!0){var r=typeof n;if('string'===r)return n=n.trim(),n?n:void 0;if(n===!1||null==n)return void 0}return n})},ut.PARSE=function(t,e){void 0===e&&(e=ot.defaults.jsondate);try{return JSON.parse(t,function(t,n){return'string'==typeof n&&e&&n.isJSONDate()?new Date(n):n})}catch(n){return null}},ut.NOOP=function(){},ut.REWRITE=ot.rewrite,ut.SET=function(t,e,n,r){return'boolean'==typeof n?ot.set(t,e,n):!n||5>n?ot.set(t,e,n):(setTimeout(function(){ot.set(t,e,r)},n),ot)},ut.INC=function(t,e,n,r){return'boolean'==typeof n?ot.inc(t,e,n):!n||5>n?ot.inc(t,e,n):(setTimeout(function(){ot.inc(t,e,r)},n),ot)},ut.EXTEND=function(t,e,n,r){return'boolean'==typeof n?ot.extend(t,e,n):!n||5>n?ot.extend(t,e,n):(setTimeout(function(){ot.extend(t,e,r)},n),ot)},ut.PUSH=function(t,e,n,r){return'boolean'==typeof n?ot.push(t,e,n):!n||5>n?ot.push(t,e,n):(setTimeout(function(){ot.push(t,e,r)},n),ot)},ut.INVALID=ot.invalid,ut.RESET=ot.reset,ut.COOKIES=ot.cookies,ut.DEFAULT=function(t,e,n){return ot['default'](t,e,null,n)},ut.WATCH=function(t,e,n){return ON('watch',t,e,n)},ut.UPTODATE=function(t,e,n){'function'==typeof e&&(n=e,e='');var r=(new Date).add(t);ON('knockknock',function(){r>ut.DATETIME||(setTimeout(function(){e?ut.location.href=e:ut.location.reload(!0)},5e3),n&&n())})},ut.PING=function(t,e,n){if(null==navigator.onLine||navigator.onLine){if('function'==typeof e){var r=n;n=e,e=r}var i=t.indexOf(' '),a='GET';-1!==i&&(a=t.substring(0,i).toUpperCase(),t=t.substring(i).trim());var o={},s=y(t);return o.type=a,o.headers={'X-Ping':location.pathname},o.success=function(t){'string'==typeof n?R(n,t):n&&n(t)},o.error=function(e,r,i){r=r+': '+i,EMIT('error',i,r,t),'function'==typeof n&&n(void 0,r,t)},setInterval(function(){$.ajax(s,o)},e||3e4)}},ut.VALIDATE=ot.validate,ut.CAN=ot.can,ut.DISABLED=ot.disabled,ut.AJAX=ot.AJAX,ut.AJAXCACHE=ot.AJAXCACHE,ut.AJAXCACHEREVIEW=ot.AJAXCACHEREVIEW,ut.GET=ot.get,ut.CACHE=ot.cache,ut.CACHEPATH=ot.cachepath,ut.NOTIFY=ot.notify,ut.NOTMODIFIED=function(t,e,n){void 0===e&&(e=H(t)),void 0===e&&(e=null),n&&(t=t.concat('#',n));var r=ut.HASH(ut.STRINGIFY(e,n)),i='notmodified.'+t;return dt[i]===r?!0:(dt[i]=r,!1)},ut.SCHEDULE=ot.schedule,ut.FIND=function(t,e,n,r){var i=!1;if('function'==typeof e)i=!0,r=e,e=void 0;else if('function'==typeof n){var a=r;i=!0,r=n,n=a}if(i)return void WAIT(function(){var r=FIND(t,e,n);return r instanceof Array?r.length>0:r?!0:!1},function(n){if(!n){var i=FIND(t,e);r.call(i?i:ut,i)}},500,n);var o,s;return!n&&(o='find.'+t+'.'+(e?0:1),s=dt[o])?s:46===t.charCodeAt(0)?(s=ot.findByPath(t.substring(1),e),n||(dt[o]=s),s):35===t.charCodeAt(0)?(s=ot.findById(t.substring(1),void 0,e),n||(dt[o]=s),s):(s=ot.findByName(t,void 0,e),n||(dt[o]=s),s)},ut.UPDATE=function(t,e,n){return'boolean'==typeof e?ot.update(t,e):e?void setTimeout(function(){ot.update(t,n)},e):ot.update(t,n)},ut.CHANGE=ot.change,ut.INJECT=ut.IMPORT=ot['import'],ut.SCHEMA=function(t,e){return ot.schema(t,e)},ut.OPERATION=function(t,e){return e?Ot[t]=e:e=Ot[35===t.charCodeAt(0)?t.substring(1):t],e},ut.ON=function(t,e,n,r){return ot.on(t,e,n,r)},ut.EMIT=ot.emit,ut.EVALUATE=ot.evaluate,ut.STYLE=function(t){St.push(t instanceof Array?t.join('\n'):t),setTimeout2('$style',function(){$('<style type="text/css">'+St.join('')+'</style>').appendTo('head'),St=[]},50)},ut.BLOCKED=function(t,e,n){return ot.blocked(t,e,n)},ut.HASH=function(t){if(!t)return 0;'string'!=typeof t&&(t=STRINGIFY(t));var e,n,r=0;if(!t.length)return r;var i=t.length;for(e=0;i>e;e++)n=t.charCodeAt(e),r=(r<<5)-r+n,r|=0;return r},ut.GUID=function(t){t||(t=10);for(var e=(t/24>>0)+1,n=[],r=0;e>r;r++)n.push(Math.random().toString(36).substring(2));return n.join('').substring(0,t)},ut.KEYPRESS=function(t,e,n){e||(e=300);var r=t.toString(),i=r.length-20;0>i&&(i=0);var a=n?n:ut.HASH(r.substring(0,20)+'X'+r.substring(i))+'_keypress';setTimeout2(a,t,e)},ut.WAIT=function(t,e,n,r){var i=(1e4*Math.random()>>0).toString(16),a=r>0?i+'_timeout':0;if('number'==typeof e){var o=n;n=e,e=o}var s='string'==typeof t,u=!1;if(s){var c=H(t);c&&(u=!0)}else t()&&(u=!0);return u?void e(null,function(i){setTimeout(function(){WATCH(t,e,n,r)},i||1)}):(a&&(kt[a]=setTimeout(function(){clearInterval(kt[i]),delete kt[a],delete kt[i],e(new Error('Timeout.'))},r)),void(kt[i]=setInterval(function(){if(s){var r=H(t);if(null==r)return}else if(!t())return;clearInterval(kt[i]),delete kt[i],a&&(clearTimeout(kt[a]),delete kt[a]),e&&e(null,function(r){setTimeout(function(){WATCH(t,e,n)},r||1)})},n||500)))},ut.COMPILE=function(t){return d(t)},ut.CONTROLLER=function(){var t=arguments[arguments.length-1];if('function'!=typeof t)return Ct[arguments[0]];var e={};return e.name=e.path=arguments[0],Ct[e.name]=e,e.get=function(t){return ot.get(e.path+(t?'.'+t:''))},e.set=function(t,n,r){return 1===arguments.length&&(n=t,t=void 0),ot.set(e.path+(t?'.'+t:''),n,r),e},e.destroy=function(){return e.element.remove(),delete Ct[e.name],void setTimeout(P,500)},e.$init=function(n,r){return e.$init=void 0,n&&(e.path=n),e.element=r,t.call(e,e,n,r),e}},ut.VIRTUALIZE=function(t,e){return!(t instanceof jQuery)&&(t=$(t)),new W(t,e)},COMPONENT('',function(){var t=this,e=t.element.get(0).tagName;if('INPUT'!==e&&'SELECT'!==e&&'TEXTAREA'!==e)t.readonly(),t.setter=function(e){e=t.formatter(e,!0),t.element.html(e)};else{var n='data-jc-bind';!t.element.attr(n)&&t.element.attr(n,'1'),t.element.attr('required')&&(t.validate=function(t,e){return e?!0:t?!0:!1}),t.element.$com=t}}),Array.prototype.waitFor=function(t,e){void 0===t.index&&(t.index=0);var n=t.index,r=this,i=r[t.index++];return i?(t.call(r,i,function(n){t.value=n,r.waitFor(t,e)},n),r):(e&&e(t.value),delete t.value,r)},Array.prototype.compare=function(t,e,n){for(var r=this,i=[],a=[],o=[],s=r.length,u=e.length,c=0;s>c;c++){for(var l=r[c],f=!1,d=0;u>d;d++){var p=e[d];if(p[t]===l[t]){STRINGIFY(l,n)!==STRINGIFY(p,n)&&i.push({oldIndex:c,newIndex:d,oldItem:l,newItem:p}),f=!0;break}}!f&&o.push({oldIndex:c,newIndex:d,oldItem:l,newItem:p})}for(var c=0;u>c;c++){for(var l=e[c],f=!0,d=0;s>d;d++){var p=r[d];if(p[t]===l[t]){f=!1;break}}f&&a.push({oldIndex:null,newIndex:c,oldItem:null,newItem:l})}var h=o.length/s*100,v=i.length/s*100;return{change:a.length||o.length||i.length?!0:!1,redraw:h>60||v>60,append:a,remove:o,update:i}},Array.prototype.async=function(t,e){if('function'==typeof t){var n=e;e=t,t=n}t||(t={});var r=this,i=0,a=function(){var n=r[i++];return n?void n.call(t,a,i-1):e&&e.call(t)};return a(),this},Array.prototype.ticks=function(t,e){var n=this,r=n.length;if(t>r)return n;var i=Math.round(r/t),a=[],o=0,s=0;if(e)for(var u=0;r>u&&(s++%i===0&&(o++,a.push(n[u])),o!==t);u++);else{for(var u=r-1;u>-1&&(s++%i===0&&(o++,a.push(n[u])),o!==t);u--);a.reverse()}return a},Array.prototype.take=function(t){for(var e=[],n=this,r=n.length,i=0;r>i;i++)if(e.push(n[i]),e.length>=t)return e;return e},Array.prototype.skip=function(t){for(var e=[],n=this,r=n.length,i=0;r>i;i++)i>=t&&e.push(n[i]);return e},String.prototype.isJSONDate=function(){var t=this,e=t.length-1;return e>22&&30>e&&90===t.charCodeAt(e)&&84===t.charCodeAt(10)&&45===t.charCodeAt(4)&&58===t.charCodeAt(13)&&58===t.charCodeAt(16)},String.prototype.parseExpire=function(){var t=this.split(' '),e=parseInt(t[0]);if(isNaN(e))return 0;var n=36e5;switch(t[1].trim().replace(/\./g,'')){case'minutes':case'minute':case'min':case'mm':case'm':return 6e4*e;case'hours':case'hour':case'HH':case'hh':case'h':case'H':return n*e;case'seconds':case'second':case'sec':case'ss':case's':return 1e3*e;case'days':case'day':case'DD':case'dd':case'd':return 24*n*e;case'months':case'month':case'MM':case'M':return 24*n*28*e;case'weeks':case'week':case'W':case'w':return 24*n*7*e;case'years':case'year':case'yyyy':case'yy':case'y':return 24*n*365*e;default:return 0}},String.prototype.removeDiacritics=function(){for(var t='',e=0,n=this.length;n>e;e++){var r=this[e],i=r.charCodeAt(0),a=!1,o=it[i];void 0===o&&(i=r.toLowerCase().charCodeAt(0),o=it[i],a=!0),void 0!==o?(r=o,t+=a?r.toUpperCase():r):t+=r}return t},String.prototype.toSearch=function(){for(var t=this.replace(/[^a-zA-Z--\d\s:]/g,'').trim().toLowerCase().removeDiacritics(),e=[],n='',r=0,i=t.length;i>r;r++){var a=t.substring(r,r+1);'y'===a&&(a='i'),a!==n&&(n=a,e.push(a))}return e.join('')},String.prototype.slug=function(t){t=t||60;for(var e=this.trim().toLowerCase().removeDiacritics(),n='',r=e.length,i=0;r>i;i++){var a=e.substring(i,i+1),o=e.charCodeAt(i);if(n.length>=t)break;o>31&&48>o?'-'!==n.substring(n.length-1,n.length)&&(n+='-'):o>47&&58>o?n+=a:o>94&&123>o&&(n+=a)}var s=n.length-1;return'-'===n[s]?n.substring(0,s):n},String.prototype.isEmail=function(){var t=this;return t.length<=4?!1:ot.validators.email.test(t)},String.prototype.isPhone=function(){var t=this;return t.length<6?!1:ot.validators.phone.test(t)},String.prototype.isURL=function(){var t=this;return t.length<=7?!1:ot.validators.url.test(t)},String.prototype.parseInt=function(t){var e=this.trim(),n=e.match(ot.regexp['int']);return n?(n=+n[0],isNaN(n)?t||0:n):t||0},String.prototype.parseFloat=function(t){var e=this.trim(),n=e.match(ot.regexp['float']);return n?(n=n[0],-1!==n.indexOf(',')&&(n=n.replace(',','.')),n=+n,isNaN(n)?t||0:n):t||0},Array.prototype.trim=function(){for(var t=this,e=[],n=0,r=t.length;r>n;n++)'string'==typeof t[n]&&(t[n]=t[n].trim()),t[n]&&e.push(t[n]);return e},Array.prototype.findIndex=function(t,e){for(var n=this,r='function'==typeof t,i=void 0!==e,a=0,o=n.length;o>a;a++)if(r){if(t.call(n,n[a],a))return a}else if(i){if(n[a][t]===e)return a}else if(n[a]===t)return a;return-1},Array.prototype.findItem=function(t,e){var n=this.findIndex(t,e);return-1!==n?this[n]:void 0},Array.prototype.remove=function(t,e){for(var n=this,r=[],i='function'==typeof t,a=void 0!==e,o=0,s=n.length;s>o;o++)i?!t.call(n,n[o],o)&&r.push(n[o]):a?n[o][t]!==e&&r.push(n[o]):n[o]!==t&&r.push(n[o]);return r},Date.prototype.parseDate=function(){return this},Date.prototype.add=function(t,e){if(void 0===e){var n=t.split(' ');t=n[1],e=parseInt(n[0])}var r=this,i=new Date(r.getTime());switch(t.substring(0,3)){case's':case'ss':case'sec':return i.setSeconds(i.getSeconds()+e),i;case'm':case'mm':case'min':return i.setMinutes(i.getMinutes()+e),i;case'h':case'hh':case'hou':return i.setHours(i.getHours()+e),i;case'd':case'dd':case'day':return i.setDate(i.getDate()+e),i;case'w':case'ww':case'wee':return i.setDate(i.getDate()+7*e),i;case'M':case'MM':case'mon':return i.setMonth(i.getMonth()+e),i;case'y':case'yy':case'yyy':case'yea':return i.setFullYear(i.getFullYear()+e),i}return i},Date.prototype.format=function(t){var e=this,n=!1;if(t&&33===t.charCodeAt(0)&&(n=!0,t=t.substring(1)),void 0===t||null===t||''===t)return e.getFullYear()+'-'+(e.getMonth()+1).toString().padLeft(2,'0')+'-'+e.getDate().toString().padLeft(2,'0')+'T'+e.getHours().toString().padLeft(2,'0')+':'+e.getMinutes().toString().padLeft(2,'0')+':'+e.getSeconds().toString().padLeft(2,'0')+'.'+e.getMilliseconds().padLeft(3,'0').toString()+'Z';
var r=e.getHours();return n&&r>=12&&(r-=12),t.replace(ot.regexp.date,function(t){switch(t){case'yyyy':return e.getFullYear();case'yy':return e.getYear().toString().substring(1);case'MM':return(e.getMonth()+1).toString().padLeft(2,'0');case'M':return e.getMonth()+1;case'dd':return e.getDate().toString().padLeft(2,'0');case'd':return e.getDate();case'HH':case'hh':return r.toString().padLeft(2,'0');case'H':case'h':return e.getHours();case'mm':return e.getMinutes().toString().padLeft(2,'0');case'm':return e.getMinutes();case'ss':return e.getSeconds().toString().padLeft(2,'0');case's':return e.getSeconds();case'w':case'ww':var n=new Date(+e);return n.setHours(0,0,0),n.setDate(n.getDate()+4-(n.getDay()||7)),n=Math.ceil(((n-new Date(n.getFullYear(),0,1))/864e5+1)/7),'ww'===t?n.toString().padLeft(2,'0'):n;case'a':return e.getHours()>=12?'PM':'AM'}})},Number.prototype.pluralize=function(t,e,n,r){var i=this,a='';return a=0==i?t||'':1==i?e||'':i>1&&5>i?n||'':r,-1===a.indexOf('#')?a:a.replace(ot.regexp.pluralize,function(t){return'##'===t?i.format():i.toString()})},Number.prototype.format=function(t,e,n){var r=this,i=r.toString(),a='',o='',s='-'===i.substring(0,1)?'-':'';s&&(i=i.substring(1));var u=i.indexOf('.');if('string'==typeof t){var c=e;e=t,t=c}void 0===e&&(e=' '),-1!==u&&(a=i.substring(u+1),i=i.substring(0,u)),u=-1;for(var l=i.length-1;l>=0;l--)u++,u>0&&u%3===0&&(o=e+o),o=i[l]+o;return(t||a.length)&&(a=a.length>t?a.substring(0,t||0):a.padRight(t||0,'0')),a.length&&void 0===n&&(n='.'===e?',':'.'),s+o+(a.length?n+a:'')},String.prototype.padLeft=function(t,e){var n=this.toString();return Array(Math.max(0,t-n.length+1)).join(e||' ')+n},String.prototype.padRight=function(t,e){var n=this.toString();return n+Array(Math.max(0,t-n.length+1)).join(e||' ')},Number.prototype.padLeft=function(t,e){return this.toString().padLeft(t,e||'0')},Number.prototype.padRight=function(t,e){return this.toString().padRight(t,e||'0')},Number.prototype.add=Number.prototype.inc=function(t,e){if(null==t)return this;if('number'==typeof t)return this+t;var n=t.charCodeAt(0),r=!1;(48>n||n>57)&&(r=!0,t=t.substring(1));var i,a=t.length;if('%'===t[a-1]){if(t=t.substring(0,a-1),r){var o=t.parseFloat();switch(n){case 42:i=this*(this/100)*o;break;case 43:i=this+this/100*o;break;case 45:i=this-this/100*o;break;case 47:i=this/(this/100*o)}return void 0!==e?i.floor(e):i}return i=this/100*t.parseFloat(),void 0!==e?i.floor(e):i}switch(i=t.parseFloat(),n){case 42:i=this*i;break;case 43:i=this+i;break;case 45:i=this-i;break;case 47:i=this/i;break;default:i=this}return void 0!==e?i.floor(e):i},Number.prototype.floor=function(t){return Math.floor(this*Math.pow(10,t))/Math.pow(10,t)},String.prototype.format=function(){var t=arguments;return this.replace(ot.regexp.format,function(e){var n=t[+e.substring(1,e.length-1)];return null==n?'':n instanceof Array?n.join(''):n})},String.prototype.parseDate=function(){var t=this.trim();if(!t)return null;var e=t.charCodeAt(t.length-1);if(41===e)return new Date(t);if(90===e)return new Date(Date.parse(t));var n=t.split(-1===t.indexOf(' ')?'T':' '),r=n[0].indexOf(':'),i=n[0].length;if(-1!==r){var a=n[1];n[1]=n[0],n[0]=a}void 0===n[0]&&(n[0]='');for(var o=void 0===n[1]?!0:0===n[1].length,s=0;i>s;s++){var u=n[0].charCodeAt(s);if(!(u>47&&58>u||45===u||46===u)&&o)return new Date(t)}void 0===n[1]&&(n[1]='00:00:00');var c=-1===n[0].indexOf('-'),l=(n[0]||'').split(c?'.':'-'),f=(n[1]||'').split(':'),d=[];if(l.length<4&&f.length<2)return new Date(t);r=(f[2]||'').indexOf('.'),-1!==r?(f[3]=f[2].substring(r+1),f[2]=f[2].substring(0,r)):f[3]='0',d.push(+l[c?2:0]),d.push(+l[1]),d.push(+l[c?0:2]),d.push(+f[0]),d.push(+f[1]),d.push(+f[2]),d.push(+f[3]);for(var p=ut.DATETIME=new Date,s=0,i=d.length;i>s;s++){isNaN(d[s])&&(d[s]=0);var h=d[s];if(0===h)switch(s){case 0:0>=h&&(d[s]=p.getFullYear());break;case 1:0>=h&&(d[s]=p.getMonth()+1);break;case 2:0>=h&&(d[s]=p.getDate())}}return new Date(d[0],d[1]-1,d[2],d[3],d[4],d[5])},Array.prototype.last=function(t){var e=this[this.length-1];return void 0===e?t:e},Array.prototype.quicksort=function(t,e,n){var r=this.length;if(!r||1===r)return this;'boolean'==typeof t&&(e=t,t=void 0),void 0===n&&(n=3),void 0===e&&(e=!0);var i=this,a=0,o=t?i[0][t]:i[0];switch(typeof o){case'string':a=o.isJSONDate()?4:1;break;case'number':a=2;break;case'boolean':a=3;break;default:if(!(o instanceof Date))return i;a=4}return i.sort(function(r,i){var o=t?r[t]:r,s=t?i[t]:i;if(1===a)return o&&s?e?o.substring(0,n).removeDiacritics().localeCompare(s.substring(0,n).removeDiacritics()):s.substring(0,n).removeDiacritics().localeCompare(o.substring(0,n).removeDiacritics()):0;if(2===a)return o>s?e?1:-1:s>o?e?-1:1:0;if(3===a)return o===!0&&s===!1?e?1:-1:o===!1&&s===!0?e?-1:1:0;if(4===a){if(!o||!s)return 0;o.getTime||(o=new Date(o)),s.getTime||(s=new Date(s));var u=o.getTime(),c=s.getTime();return u>c?e?1:-1:c>u?e?-1:1:0}return 0}),i},Array.prototype.attr=function(t,e){if(2===arguments.length){if(null==e)return this}else void 0===e&&(e=t.toString());return this.push(t+'="'+e.toString().replace(/[<>&"]/g,function(t){switch(t){case'&':return'&amp;';case'<':return'&lt;';case'>':return'&gt;';case'"':return'&quot;'}return t})+'"'),this},Array.prototype.scalar=function(t,e,n){for(var r=n,i=!1,a='avg'===t||'average'===t,o='distinct'===t,s=0,u=this.length;u>s;s++){var c=e?this[s][e]:this[s];if('string'==typeof c&&(c=c.parseFloat()),c instanceof Date&&(i=!0,c=c.getTime()),o)r||(r=[]),-1===r.indexOf(c)&&r.push(c);else if('median'!==t)if('sum'===t||a)r?r+=c:r=c;else switch('range'!==t?r||(r=c):r||(r=new Array(2),r[0]=c,r[1]=c),t){case'range':r[0]=Math.min(r[0],c),r[1]=Math.max(r[1],c);break;case'min':r=Math.min(r,c);break;case'max':r=Math.max(r,c)}else r||(r=[]),r.push(c)}if(o)return r;if(a)return r/=this.length,i?new Date(r):r;if('median'===t){r.sort(function(t,e){return t-e});var l=Math.floor(r.length/2);r=r.length%2?r[l]:(r[l-1]+r[l])/2}if(i){if('number'==typeof r)return new Date(r);r[0]=new Date(r[0]),r[1]=new Date(r[1])}return r},WAIT(function(){return ut.jQuery?!0:!1},function(){setInterval(function(){vt={},P()},3e5),Rt=0,setInterval(function(){if(yt.length){Rt++;var t=new Date;ut.DATETIME=t;for(var e=0,n=yt.length;n>e;e++){var r=yt[e];if('m'===r.type){if(Rt%30!==0)continue}else if('h'===r.type&&Rt%900!==0)continue;var i=t.add(r.expire);FIND(r.selector,!0).forEach(function(t){t&&t.usage.compare(r.name,i)&&r.callback(t)})}}},3500),$.fn.asvg=function(t){if(-1===t.indexOf('<')){var e=document.createElementNS('http://www.w3.org/2000/svg',t);return this.append(e),$(e)}var n=document.createElementNS('http://www.w3.org/1999/xhtml','div');n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t+'</svg>';for(var r=document.createDocumentFragment();n.firstChild.firstChild;)r.appendChild(n.firstChild.firstChild);return r=$(r),this.append(r),r},$.fn.psvg=function(t){if(-1===t.indexOf('<')){var e=document.createElementNS('http://www.w3.org/2000/svg',t);return this.prepend(e),$(e)}var n=document.createElementNS('http://www.w3.org/1999/xhtml','div');n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t+'</svg>';for(var r=document.createDocumentFragment();n.firstChild.firstChild;)r.appendChild(n.firstChild.firstChild);return r=$(r),this.prepend(r),r},$.fn.component=function(){return this.data(et)},$.fn.components=function(t){var e,n=this.find(K);return n.each(function(n){var r=$(this).data(K);if(r)if(r instanceof Array)r.forEach(function(r){if(r&&r.$ready&&!r.$removed){if(t)return t.call(r,n);e||(e=[]),e.push(r)}});else if(r&&r.$ready&&!r.$removed){if(t)return t.call(r,n);e||(e=[]),e.push(r)}}),t?n:e},$.components=ot,setInterval(function(){ut.DATETIME=new Date;for(var t=ot.components,e=0,n=t.length;n>e;e++)t[e].knockknock&&t[e].knockknock(Ht);t=ot.apps;for(var e=0,n=t.length;n>e;e++)t[e].knockknock&&t[e].knockknock(Ht),t[e].emit('knockknock',Ht);EMIT('knockknock',Ht++)},6e4),$(document).ready(function(){Dt&&(clearTimeout(Dt),f()),$(ut).on('resize',e),$(ut).on('orientationchange',e),e(),$(document).on('input change keypress keydown blur',rt,function(t){var e=this;if('input'===t.type&&'range'!==e.type||'keypress'===t.type)return!('TEXTAREA'!==e.tagName&&13===t.keyCode);var n='checkbox'===e.type||'radio'===e.type||'range'===e.type;if(!('focusout'===t.type&&n||'change'===t.type&&!n&&'SELECT'!==e.tagName||!e.$com||e.$com.$removed)&&e.$com.getter){var i=t.keyCode;if(!((t.metaKey||9===i||i>15&&21>i||i>36&&41>i)&&86!==i&&88!==i||8===t.keyCode&&!e.value)){if(e.$skip&&'focusout'===t.type)return void r(e,e.$value,t);var a,o=e.$value;if(e.$value=null,'checkbox'===e.type||'radio'===e.type){if('keydown'===t.type)return;var a=e.checked;return e.$com.dirty(!1,!0),e.$com.getter(a,2),void(e.$com.$skip=!1)}if('SELECT'===e.tagName){if('keydown'===t.type||-1===e.selectedIndex)return;var u=e[e.selectedIndex];a=u.value;var c=!1;return e.$com.$dirty&&(c=!0),e.$com.dirty(!1,!0),e.$com.getter(a,2,c,o,'focusout'===t.type),void(e.$com.$skip=!1)}if(void 0===e.$delay&&(e.$delay=parseInt(s(e,'keypress-delay')||'0')),void 0===e.$only&&(e.$only='true'===s(e,'keypress-only')),(!e.$only||'focusout'!==t.type&&'change'!==t.type)&&('keydown'!==t.type||void 0!==t.keyCode&&9!==t.keyCode)){if(t.keyCode<41&&8!==t.keyCode&&32!==t.keyCode){if(13!==t.keyCode)return;if('TEXTAREA'!==t.tagName)return e.$value=e.value,clearTimeout2('M$timeout'),void r(e,o,t)}if(void 0===e.$nokeypress){var l=s(e,'keypress');e.$nokeypress=l?'false'===l:ot.defaults.keypress===!1}var f=e.$delay;if(e.$nokeypress){if('keydown'===t.type||'focusout'===t.type)return;f||(f=1)}else f||(f=ot.defaults.delay);'focusout'===t.type&&(f=0),setTimeout2('M$timeout',function(){r(e,o,t)},f)}}}}),setTimeout(d,2)})},100),ot.$parser.push(function(t,e,n){if('number'===n||'currency'===n||'float'===n){'string'==typeof e&&(e=e.replace(V,'').replace(q,'.'));var r=parseFloat(e);return isNaN(r)?null:r}return e})}();